(window.webpackJsonp=window.webpackJsonp||[]).push([[76,77],{1075:function(e,t){},1076:function(e,t){},1077:function(e,t){},1078:function(e,t){},1079:function(e,t){},1080:function(e,t){},1081:function(e,t){},1082:function(e,t){},1083:function(e,t){},1084:function(e,t){},1087:function(e,t){},218:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(38)),l=o(n(129)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function o(e){return e&&e.__esModule?e:{default:e}}n(37),n(147);var c=function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),r(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement(a.default,{maskClosable:!1,className:"full-spin",bodyStyle:{textAlign:"center"},footer:null,closable:!1,visible:this.props.spinning},e.createElement(l.default,{size:"large",delay:100,spinning:!0,className:"example",tip:"Loading..."}))}}]),n}();t.default=c}).call(this,n(1))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(48));n(47);var l=r(n(28));function r(e){return e&&e.__esModule?e:{default:e}}n(1075);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,l){return""===t.linkList[l]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[l])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(l.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,n(1))},535:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var l=h(n(38)),r=h(n(45)),o=h(n(43)),c=h(n(92)),i=h(n(14)),s=h(n(25)),u=h(n(11)),f=h(n(57));n(37),n(51),n(42),n(93),n(18),n(24),n(26),n(56);var d=h(n(15)),p=h(n(29)),m=h(n(218));function h(e){return e&&e.__esModule?e:{default:e}}var g=f.default.RangePicker,y=(0,d.default)(function(t){return e.createElement(p.default,{breadcrumbList:["客户盘点","客户信息","合同到期"],linkList:["","1",""],history:t.props.history},e.createElement("div",{className:"ExpiringClientList"},e.createElement(k,{that:t})))}),k=(0,d.default)(function(t){var n=t.state,f=n.dataList,d=n.spinning,p=n.restorePicker,h=n.rangePicker,y=n.selectedRowKeys,k=n.dealername,v=n.takePeople,b=n.totalNum,E=n.pageSize,S=n.pageNo,N=n.checkAll,P={selectedRowKeys:y,onChange:function(e){return t.onTableCheckChange(e)}},w={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},C=function(n){return t.state[n]&&t.state[n].length?e.createElement(u.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(n)},style:w}):null};return e.createElement("div",{className:"content ExpiringClientList"},e.createElement("div",{className:"search-box"},e.createElement("div",{className:"input-box"},e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"客户名称:"),e.createElement(s.default,{placeholder:"请输入",style:{width:"280px"},onChange:function(e){return t.chSearchIpt(e,"dealername")},value:k,suffix:C("dealername"),className:"ipt"})),e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"对接人:"),e.createElement(s.default,{placeholder:"请输入",style:{width:"280px"},onChange:function(e){return t.chSearchIpt(e,"takePeople")},value:v,suffix:C("takePeople"),className:"ipt"})),e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"到期时间:"),e.createElement(g,{onChange:function(e){return t.chSearchIpt(e,"rangePicker")},value:[h[0],h[1]],className:"ipt"}))),e.createElement("div",{className:"input-box",style:{justifyContent:"flex-end",paddingBottom:0}},e.createElement("div",{style:{justifyContent:"flex-end"},className:"item"},e.createElement(i.default,{className:"btn6 seh",onClick:function(e){return t.onSearch()}},"查询")))),e.createElement("div",{className:"button-box"},e.createElement(i.default,{onClick:function(){return t.allStartConfirm("all",null,!0)}},"批量合同续期"),e.createElement(i.default,{onClick:function(){return t.allRmConfirm("all",null)}},"批量删除")),e.createElement("div",{style:{padding:"21px 0 11px 0"}},e.createElement(c.default,{message:e.createElement("div",null,"共 ",e.createElement("a",null,b)," 项，已选择 ",e.createElement("a",null,N?b:y.length)," 项 ",e.createElement("a",{onClick:function(){return t.checkAll(!0)}},"勾选全部"),"/",e.createElement("a",{onClick:function(){return t.checkAll(!1)}},"取消勾选")),type:"info",showIcon:!0})),e.createElement("div",{className:"content-tab"},e.createElement(o.default,{style:{flexShrink:4,flexGrow:44},locale:{emptyText:e.createElement("span",null,"暂无数据")},rowKey:"id",pagination:!1,rowSelection:P,columns:t.formatColumn(),dataSource:f.dealer_list}),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+b+" 条记录 ","  ","第  "+S+"  / "+Math.ceil(b/E)+" 页"),e.createElement(r.default,{pageSize:E,current:S,total:b,onChange:t.changePagination,onShowSizeChange:t.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0}))),e.createElement(l.default,{title:"恢复合约",maskClosable:!1,visible:t.state.visible,onOk:function(){return t.allStart()},onCancel:function(){return t.allStartConfirm("close",null,!1)}},e.createElement("div",{style:{textAlign:"center",padding:"10px 0px"}},e.createElement("span",{style:{paddingRight:"10px"}},e.createElement("span",{className:"red"},"*"),"授权期限:"),e.createElement(g,{disabledDate:function(e){return e&&e<a().subtract(1,"days")},allowClear:!1,onChange:function(e){return t.chSearchIpt(e,"restorePicker")},value:[p[0],p[1]],className:"ipt"}))),e.createElement(m.default,{spinning:d}))});t.default=y}).call(this,n(1),n(10))},800:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(23)),r=u(n(38)),o=u(n(19)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(22),n(37),n(20);var i=u(n(535)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return l.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.setState({pageNo:1,dealername:e?null:l.state.dealername,takePeople:e?null:l.state.takePeople,rangePicker:e?[null,null]:l.state.rangePicker,oldSearch:{dealername:e?null:l.state.dealername,takePeople:e?null:l.state.takePeople,rangePicker:e?[null,null]:l.state.rangePicker}},function(){l.getList()})},l.getList=function(){var e=l.state,t=e.dealername,n=e.takePeople,a=e.rangePicker;s.default.get("/hcm/dealer/getlistStop",{params:{pageNo:l.state.pageNo,pageSize:l.state.pageSize,dealername:t,takePeople:n,stopDateStart:a[0]?a[0].format("YYYY-MM-DD")+" 00:00:00":null,stopDateEnd:a[1]?a[1].format("YYYY-MM-DD")+" 23:59:59":null}}).then(function(e){var t=e.data.data;l.setState({dataList:t,pageNo:t.page_info.pageNo,pageSize:t.page_info.pageSize,checkAll:!1,selectedRowKeys:[],startTarget:{},visible:!1,totalNum:t.page_info.totalNum})}).catch(function(e){o.default.error(e.statusText)})},l.chSearchIpt=function(e,t){var n=l.state;"rangePicker"==t||"restorePicker"==t?(n[t][0]=e[0],n[t][1]=e[1],console.log(n[t])):n[t]=e.target.value,l.setState(n)},l.handleClearIconClick=function(e){var t=l.state;t[e]=null,l.setState(t)},l.formatColumn=function(){return[{title:"No",dataIndex:"index",key:"index",render:function(e,t,n){return n+1}},{title:"客户名称",dataIndex:"dealername",key:"dealername"},{title:"对接人",dataIndex:"take_people",key:"take_people"},{title:"联系方式",dataIndex:"contact",key:"contact"},{title:"到期时间",dataIndex:"stop_date",key:"stop_date",render:function(e){return e?a(e).format("YYYY-MM-DD HH:mm:ss"):"--"}},{title:"操作",dataIndex:"action",key:"action",align:"right",width:150,render:function(t,n,a){return e.createElement("div",{className:"action"},e.createElement("a",{onClick:function(){return l.allStartConfirm("item",n.id,!0)}},"恢复合约"),e.createElement("a",{onClick:function(){return l.allRmConfirm("item",n.id)}},"删除"))}}]},l.itemStart=function(e){var t=l.state.restorePicker,n={};n.ids=e.id,n.checkAll=!1,n.authorizeStart=t[0].format("YYYY-MM-DD"),n.authorizeEnd=t[1].format("YYYY-MM-DD"),l.setState({spinning:!0},function(){s.default.get("/hcm/dealer/start",{params:n}).then(function(e){l.setState({spinning:!1},function(){"10000"==e.data.status&&l.getList(),o.default.success(e.data.message)})}).catch(function(e){l.setState({spinning:!1}),o.default.error(e.statusText)})})},l.onTableCheckChange=function(e){l.setState({selectedRowKeys:e,checkAll:!1})},l.changePagination=function(e,t){l.setState({pageNo:e,pageSize:t},function(){l.getList()})},l.onPaginationSize=function(e,t){l.setState({pageNo:1,pageSize:t},function(){l.getList()})},l.checkAll=function(e){var t=l.state.selectedRowKeys;e?l.state.dataList.dealer_list.forEach(function(e,n){t.push(e.id)}):t=[],l.setState({checkAll:e,selectedRowKeys:t})},l.allStart=function(){var e=l.state,t=e.restorePicker,n=e.selectedRowKeys,a=e.checkAll,r=e.startTarget,c={};if("all"==r.type){var i=l.state.oldSearch,u=i.dealername,f=i.takePeople,d=i.rangePicker;c={ids:n.join(","),checkAll:a,dealername:a?u:"",takePeople:a?f:"",stopDateStart:a&&d[0]?d[0].format("YYYY-MM-DD")+" 00:00:00":"",stopDateEnd:a&&d[1]?d[1].format("YYYY-MM-DD")+" 23:59:59":""}}else c.ids=r.id,c.checkAll=!1;c.authorizeStart=t[0].format("YYYY-MM-DD"),c.authorizeEnd=t[1].format("YYYY-MM-DD"),l.setState({spinning:!0},function(){s.default.get("/hcm/dealer/start",{params:c}).then(function(e){l.setState({spinning:!1},function(){"10000"==e.data.status&&l.onSearch(!0),o.default.success(e.data.message)})}).catch(function(e){l.setState({spinning:!1}),o.default.error(e.statusText)})})},l.allRm=function(e,t){var n=l.state,a=n.selectedRowKeys,r=n.checkAll,c={};if("all"==e){var i=l.state.oldSearch,u=i.dealername,f=i.takePeople,d=i.rangePicker;c={ids:a.join(","),checkAll:r,dealername:r?u:"",takePeople:r?f:"",stopDateStart:r&&d[0]?d[0].format("YYYY-MM-DD")+" 00:00:00":"",stopDateEnd:r&&d[1]?d[1].format("YYYY-MM-DD")+" 23:59:59":""}}else c.ids=t,c.checkAll=!1;l.setState({spinning:!0},function(){s.default.get("/hcm/dealer/delete",{params:c}).then(function(e){l.setState({spinning:!1},function(){"10000"==e.data.status&&l.onSearch(!0),o.default.success(e.data.message)})}).catch(function(e){l.setState({spinning:!1}),o.default.error(e.statusText)})})},l.allStartConfirm=function(e,t,n){var a=l.state,r=a.selectedRowKeys,c=a.startTarget;r.length||"all"!=e?(c.type=e,c.id=t,"close"==e&&(c={}),l.setState({visible:n,startTarget:c})):o.default.error("至少选择一条")},l.allRmConfirm=function(t,n){var a=l.state,c=a.checkAll,i=a.totalNum,s=a.selectedRowKeys;s.length||"all"!=t?r.default.confirm({title:null,maskClosable:!1,content:"all"==t?e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",null,"你确认要删除勾选的",e.createElement("span",{className:"red"},c?i:s.length),"项客户信息吗"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"相关客户信息将无法找回"))):e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",null,"你确认要删除该客户信息吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"相关客户信息将无法找回"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",onOk:function(){return l.allRm(t,n)}}):o.default.error("至少选择一条")},l.state={visible:!1,pageNo:1,pageSize:10,checkAll:!1,totalNum:null,dataList:[],dealername:null,takePeople:null,rangePicker:[null,null],oldSearch:{dealername:null,takePeople:null,rangePicker:[null,null]},restorePicker:[a(),a().add(1,"year")],spinning:!1,selectedRowKeys:[],startTarget:{}},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),c(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){return e.createElement(i.default,{that:this})}}]),n}();t.default=l.default.create()(f)}).call(this,n(1),n(10))}}]);