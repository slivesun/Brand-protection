(window.webpackJsonp=window.webpackJsonp||[]).push([[89,90],{1075:function(e,t){},1076:function(e,t){},1079:function(e,t){},1083:function(e,t){},28:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var n=function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),a(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),n}();t.default=n}).call(this,a(1))},29:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(48));a(47);var l=i(a(28));function i(e){return e&&e.__esModule?e:{default:e}}a(1075);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(n.default,{className:"breadcrumb"},t.breadcrumbList.map(function(a,l){return""===t.linkList[l]?e.createElement(n.default.Item,{key:a},a):e.createElement(n.default.Item,{href:"javascript:;",key:a},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[l])}},a))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(l.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,a(1))},541:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(38)),l=p(a(433)),i=p(a(126)),o=p(a(127)),r=p(a(74)),c=p(a(14)),s=p(a(25)),u=p(a(11)),d=p(a(30));a(37),a(504),a(167),a(166),a(94),a(18),a(24),a(26),a(32);var m=p(a(15)),f=p(a(29));function p(e){return e&&e.__esModule?e:{default:e}}var g=d.default.Option,y=(0,m.default)(function(t){var a=t.state,n=a.dataList,l=a.addStatus,d=a.addDroductClassifyName,m=a.productClassifyName,p=a.pageNo,g=a.pageSize,y=a.totalElements,E={width:"14px",height:"14px",opacity:.25,cursor:"pointer"};return e.createElement(f.default,{title:"活动详情",breadcrumbList:["售价公示"],linkList:[""],history:t.props.history},e.createElement("div",{className:"pricenotice"},e.createElement("div",{className:"content"},e.createElement("div",{className:"header-search"},e.createElement("p",null,e.createElement("img",{src:"../../../../img/laba.png",style:{margin:"0 5px",float:"left"},alt:""}),e.createElement("b",null,"常用分类方式有，品牌；品类；系列等。请选择一种最适合的分类去管理。")),e.createElement("div",{className:"search-info"},e.createElement("span",{className:"item"},"产品分类："),e.createElement(s.default,{placeholder:"请输入",onChange:function(e){return t.onChange(e,"productClassifyName")},value:m,suffix:function(a){return t.state[a]&&t.state[a].length?e.createElement(u.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(a)},style:E}):null}("productClassifyName"),style:{width:200},className:"item"}),e.createElement(c.default,{onClick:function(){return t.onSearch()},className:"btn6 item"},"查询"),e.createElement("a",{className:"item",href:"/index.html#/ChangeHistory/HcmProductClassify"},e.createElement(c.default,null,"变更历史")))),e.createElement("div",{className:"item-list"},e.createElement("div",{onClick:function(){return t.onAddStatus(!0)},className:"item add-but"},e.createElement(u.default,{type:"plus"}),"新增分类"),l?e.createElement("div",{className:"item add-box"},e.createElement(s.default,{onChange:function(e){return t.onChange(e,"addDroductClassifyName")},value:d,className:"addipt",placeholder:"请输入分类名称"}),e.createElement("div",{className:"iptbut"},e.createElement(u.default,{onClick:function(){return t.onAddStatus(!1)},type:"close"}),e.createElement(u.default,{onClick:function(){return t.addSubmit()},type:"check"}))):null,n.map(function(a,n){return e.createElement("div",{onClick:function(e){"a"!==e.target.tagName.toLocaleLowerCase()&&(window.location.href="/index.html#/ProductInfo/"+a.id+"/"+a.productClassifyName)},key:n,className:"item"},e.createElement("div",{className:"status"},e.createElement("img",{src:"../../../../img/monitoring-"+a.monitorState+".png"})),e.createElement("div",{className:"info"},e.createElement("div",{className:"box"},e.createElement(r.default,{placement:"top",title:a.productClassifyName},e.createElement("span",{className:a.readid?"title":"title read"},a.productClassifyName)),a.monitorState?null:e.createElement("a",{onClick:function(e){t.onVisible(!0,a),e.stopPropagation()},className:"but"},"一键监控"))),e.createElement("div",{className:"action"},e.createElement(i.default,{placement:"bottomRight",overlay:e.createElement(o.default,null,e.createElement(o.default.Item,null,e.createElement("a",{className:"A-COLOR",href:"/index.html#/MonitorInfo/"+a.id},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating_Details.png"}),"低价详情")),a.monitorState?e.createElement(o.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){t.onMonitorStop(a)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating _stop.png"}),"停止监控")):null,e.createElement(o.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){t.onEditItem(a)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating_edit.png"}),"编辑")),e.createElement(o.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){t.onRmItem(a)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"6px"},src:"../../../img/icon/icon_operating_del.png"}),"删除")))},e.createElement(u.default,{onClick:function(e){e.stopPropagation()},type:"ellipsis"}))))})),e.createElement("div",{className:"addbut"},p*g>=y?null:e.createElement(c.default,{onClick:function(){return t.getMore()}},"加载更多..."))),e.createElement(h,{that:t})))}),h=(0,m.default)(function(t){var a=t.state,i=a.visible,o=a.classfiyUpdate;return e.createElement(n.default,{title:"设置时间",visible:i,maskClosable:!1,onOk:function(){return t.onUpdateMonitoring(!1)},onCancel:function(){return t.onVisible(!1)},okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:"20px"}},e.createElement("span",{style:{flexShrink:0,minWidth:"100px",textAlign:"right",color:"#333"}},"平台："),e.createElement(d.default,{onChange:function(e){return t.editOnchange(e,"platform_code")},style:{width:"100%"},value:o.platform_code},e.createElement(g,{value:1},"淘宝"))),e.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:"20px"}},e.createElement("span",{style:{flexShrink:0,minWidth:"100px",textAlign:"right",color:"#333"}},"频次："),e.createElement(d.default,{onChange:function(e){return t.editOnchange(e,"frequency")},style:{width:"100%"},value:o.frequency},e.createElement(g,{value:"1次/24H"},"1次/24H"))),e.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:"20px"}},e.createElement("span",{style:{flexShrink:0,minWidth:"100px",textAlign:"right",color:"#333"}},"监控时间："),e.createElement(l.default,{style:{width:"100%"},value:o.MonitorDate,onChange:function(e){return t.editOnchange(e,"MonitorDate")},format:"HH:mm",minuteStep:60})))});t.default=y}).call(this,a(1))},807:function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(19)),i=u(a(38)),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(20),a(37);var r=u(a(541)),c=u(a(13)),s=u(a(69));function u(e){return e&&e.__esModule?e:{default:e}}var d=i.default.confirm,m=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return i.editOnchange=function(e,t){var a=i.state.classfiyUpdate;a[t]=e,i.setState({classfiyUpdate:a})},i.onChange=function(e,t){var a=i.state;a[t]=e.target.value,i.setState(a)},i.handleClearIconClick=function(e){var t=i.state;t[e]=null,i.setState(t)},i.addSubmit=function(){var e=i.state.addDroductClassifyName;e&&e.length?s.default.legnthCheck(e,"INPUT")?(LoadingModal({bl:!0,text:"保存中,请稍后..."}),c.default.get("/hcm/ProductClassify/save",{params:{productClassifyName:e}}).then(function(e){"10000"==e.data.status?(i.setState({addDroductClassifyName:null,addStatus:!1}),i.getList(),l.default.success(e.data.message)):l.default.warning(e.data.message),LoadingModal({bl:!1})}).catch(function(e){l.default.error(e.statusText),LoadingModal({bl:!1})})):l.default.error("分类名长度不允许超过50"):l.default.error("分类名不可为空")},i.getMore=function(){i.setState({pageNo:i.state.pageNo+1},function(){i.getList()})},i.onSearch=function(){i.setState({pageNo:1},function(){i.getList()})},i.getList=function(){var e=i.state,t=e.pageNo,a=e.pageSize,n=e.productClassifyName;c.default.get("/hcm/ProductClassify/seletProductClassify",{params:{pageNum:t,pageSize:a,productClassifyName:n}}).then(function(e){var t=e.data.data.data,a=t.count,n=t.list;i.setState({dataList:n,totalElements:a})}).catch(function(e){l.default.error(e.statusText)})},i.onRmItem=function(t){var a=i;d({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要删除该产品分类吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"录入的公示信息将会被删除"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onOk:function(){c.default.get("/hcm/ProductClassify/deleteById",{params:{id:t.id}}).then(function(e){l.default.success(e.data.message),a.getList()}).catch(function(e){l.default.error(e.statusText)})}})},i.onMonitorStop=function(e){var t=i;d({title:"你确认要停止该产品分类监控吗？",okText:"确定",cancelText:"取消",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onOk:function(){c.default.get("/hcm/priceMonitor/MonitorStop",{params:{id:e.id,productClassifyName:e.productClassifyName}}).then(function(e){l.default.success(e.data.message),t.getList()}).catch(function(e){l.default.error(e.statusText)})}})},i.onUpdateMonitoring=function(){var e=i,t=i.state.classfiyUpdate,a=t.MonitorDate,o=t.platform_code,r=t.frequency,s=t.monitor_range,u=t.id,d=t.productClassifyName;c.default.get("/hcm/priceMonitor/ClassfiyUpdate",{params:{MonitorDate:n(a).format("HH:mm"),platform_code:o,frequency:r,monitor_range:s,type:"1",id:u,productClassifyName:d}}).then(function(t){e.onVisible(!1),"10000"==t.data.status?(l.default.success(t.data.message),e.getList()):l.default.warning(t.data.message)}).catch(function(e){l.default.error(e.statusText)})},i.onEditItem=function(t){var a=i;d({content:e.createElement("input",{style:{width:"90%"},id:"edit-item-input",defaultValue:t.productClassifyName}),okText:"确定",className:"edit-item-confirm",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},cancelText:"取消",onOk:function(e){s.default.legnthCheck(document.getElementById("edit-item-input").value,"INPUT")?c.default.get("/hcm/ProductClassify/save",{params:{productClassifyName:document.getElementById("edit-item-input").value,id:t.id}}).then(function(t){"10000"==t.data.status?(l.default.success(t.data.message),a.getList(),e()):l.default.warning(t.data.message)}).catch(function(e){l.default.error(e.statusText)}):l.default.error("分类名长度不允许超过50")}})},i.onVisible=function(e,t){var a=i.state.classfiyUpdate;t&&(a.id=t.id,a.productClassifyName=t.productClassifyName),i.setState({visible:e,classfiyUpdate:a})},i.onAddStatus=function(e){i.setState({addStatus:e})},i.state={addStatus:!1,visible:!1,pageNo:1,pageSize:15,totalElements:0,productClassifyName:null,addDroductClassifyName:null,dataList:[],classfiyUpdate:{MonitorDate:n(n().hour()+":00'","HH:mm"),platform_code:1,productClassifyName:null,frequency:"1次/24H",monitor_range:"授权店铺",id:null}},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),o(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){return e.createElement(r.default,{that:this})}}]),a}();t.default=m}).call(this,a(1),a(10))}}]);