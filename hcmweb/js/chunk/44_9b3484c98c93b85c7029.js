(window.webpackJsonp=window.webpackJsonp||[]).push([[44,45],{1075:function(e,t){},1076:function(e,t){},1078:function(e,t){},1082:function(e,t){},1083:function(e,t){},1084:function(e,t){},1087:function(e,t){},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(48));n(47);var r=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}n(1075);var i=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};i.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=i}).call(this,n(1))},520:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(45)),l=d(n(92)),i=d(n(74)),c=d(n(14)),o=d(n(25)),s=d(n(11)),u=d(n(30)),m=d(n(57));n(51),n(93),n(94),n(18),n(24),n(26),n(32),n(56);var f=d(n(15)),p=d(n(29));d(n(28));function d(e){return e&&e.__esModule?e:{default:e}}var h=m.default.RangePicker,y=u.default.Option,g=(0,f.default)(function(t){var n=t.state,m=n.dataList,f=n.notice_title,d=n.user_name,g=n.noticeTypeList,E=n.notice_type,v=n.start_time,_=n.end_time,b=n.pageNo,N=n.pageSize,S=n.totalNum,w={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},C=function(n){return t.state[n]&&t.state[n].length?e.createElement(s.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(n)},style:w}):null};return e.createElement(p.default,{breadcrumbList:["通知公告"],linkList:[""]},e.createElement("div",{className:"Announcements"},e.createElement("div",{className:"content"},e.createElement("div",{className:"search-box"},e.createElement("div",{className:"input-box"},e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"公告主题:"),e.createElement(o.default,{onChange:function(e){return t.chSearchIpt(e,"notice_title")},value:f,suffix:C("notice_title"),className:"ipt"})),e.createElement("div",{style:{position:"relative"},id:"alert-type",className:"item"},e.createElement("span",{className:"lab"},"公告类型:"),e.createElement(u.default,{style:{width:"100%"},showSearch:!0,placeholder:"请选择",getPopupContainer:function(){return document.getElementById("alert-type")},value:E,onChange:function(e,n,a){return t.chTreeSelect(e,n,a,"notice_type")},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.createElement(y,{value:null},"全部"),g.map(function(t,n){return e.createElement(y,{key:n,value:t.id},t.dictName)}))),e.createElement("div",{style:{width:"35%",justifyContent:"flex-end"},className:"item"},e.createElement("span",{className:"lab"},"提交时间:"),e.createElement(h,{onChange:function(e){return t.onRangePicker(e)},value:[v,_],format:"YYYY-MM-DD"}))),e.createElement("div",{className:"input-box"},e.createElement("div",{className:"item"},"HCM"==localStorage.logintype?e.createElement(e.Fragment,null,e.createElement("span",{className:"lab"},"发布人:"),e.createElement(o.default,{onChange:function(e){return t.chSearchIpt(e,"user_name")},value:d,suffix:C("user_name"),className:"ipt"})):null),e.createElement("div",{style:{justifyContent:"flex-end"},className:"item"},e.createElement(c.default,{className:"btn6",onClick:function(e){return t.onSearch()}},"查询")))),e.createElement("div",{className:"infolist"},"HCM"==localStorage.logintype||"HCMSUB"==localStorage.logintype?e.createElement("a",{className:"addbut",href:"/index.html#/AddAnnouncement"},e.createElement(c.default,{style:{width:"100%"},type:"dashed"},"新增 ")):null,e.createElement("ul",{className:"items"},m.length?m.map(function(n,r){var l=n.isread,c=n.notice_title,o=n.notice_content,s=n.notice_typename,u=n.user_name,m=n.noticeDepartsList,f=void 0===m?[]:m,p=n.createtime,d=document.createElement("div");return d.innerHTML=o,e.createElement("li",{key:r,className:"item"},e.createElement("h5",{className:l?"title ":"title state"},e.createElement("a",{href:"/index.html#/InfoAnnouncement/"+n.id},c)),e.createElement("p",{className:"text-info"},d.innerText.length>300?d.innerText.substring(0,300)+"...":d.innerText),e.createElement("footer",null,e.createElement("div",{style:{display:"flex",width:"100%"}},e.createElement("span",null,s,e.createElement("i",{style:{borderRight:"1px solid #D9D9D9",marginLeft:"16px"}})),e.createElement("span",null,a(p).format("YYYY-MM-DD HH:mm:ss"),e.createElement("i",{style:{borderRight:"1px solid #D9D9D9",marginLeft:"16px"}})),"HCM"==localStorage.logintype||"HCMSUB"==localStorage.logintype?e.createElement(e.Fragment,null,e.createElement("span",null,"From：",u,e.createElement("i",{style:{borderRight:"1px solid #D9D9D9",marginLeft:"16px"}})),e.createElement(i.default,{overlayStyle:{maxWidth:"inherit"},placement:"bottom",title:"To："+f.map(function(e,t){return e.depart_name})+"、"},e.createElement("span",{className:"departs"},"To：",f.map(function(e,t){return e.depart_name+" 、"})))):null),"HCM"==localStorage.logintype||"HCMSUB"==localStorage.logintype?e.createElement("span",{onClick:function(){return t.rmDepart(n)},className:"AnnDEL"},e.createElement("i",null)):null))}):e.createElement("li",{style:{width:"100%"}},e.createElement(l.default,{style:{textAlign:"center"},message:"暂无数据",type:"error"}))),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+S+" 条记录 ","  ","第  "+b+"  / "+Math.ceil(S/N)+" 页"),e.createElement(r.default,{pageSize:N,current:b,total:S,onChange:t.changePagination,onShowSizeChange:t.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0}))))))});t.default=g}).call(this,n(1),n(10))},783:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(19)),l=s(n(38)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(20),n(37);var c=s(n(520)),o=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var u=l.default.confirm,m=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return l.onRangePicker=function(e){l.setState({start_time:e[0],end_time:e[1]})},l.chTreeSelect=function(e,t,n,a){var r=l.state;r[a]=e,l.setState(r)},l.getNoticeTypeList=function(){o.default.get("/hcm/sys/GetList",{params:{dictcode:"notice_type"}}).then(function(e){l.setState({noticeTypeList:e.data.data})}).catch(function(e){r.default.error(e.statusText)})},l.onSearch=function(){l.setState({pageNo:1},function(){l.getList()})},l.getList=function(){var e=l.state,t=e.pageNo,n=e.pageSize,a=e.start_time,i=e.end_time,c=e.notice_title,s=e.notice_type,u=e.user_name;o.default.get("/hcm/notice/Getlist",{params:{pageNo:t,pageSize:n,start_time:a?a.format("YYYY-MM-DD HH:mm:ss"):null,end_time:i?i.format("YYYY-MM-DD HH:mm:ss"):null,notice_title:c,notice_type:s,user_name:u}}).then(function(e){var t=e.data.data;l.setState({dataList:t.content,pageNo:t.pageNumber,pageSize:t.pageSize,totalNum:t.totalElements})}).catch(function(e){r.default.error(e.statusText)})},l.chSearchIpt=function(e,t){var n=l.state;n[t]=e.target.value,l.setState(n)},l.handleClearIconClick=function(e){var t=l.state;t[e]=null,l.setState(t)},l.changePagination=function(e,t){l.setState({pageNo:e,pageSize:t},function(){l.getList()})},l.onPaginationSize=function(e,t){l.setState({pageNo:1,pageSize:t},function(){l.getList()})},l.rmDepart=function(t){var n=l;u({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要删除该通知公告吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"相关人员将不再能看到该公告"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",onOk:function(){o.default.post("/hcm/notice/Delete",{notice_id:t.id}).then(function(e){"10000"==e.data.status&&(n.getList(),r.default.success(e.data.message))}).catch(function(e){r.default.error(e.statusText)})}})},l.state={start_time:a().subtract(3,"months"),end_time:a(),notice_title:null,notice_type:null,user_name:null,dataList:[],noticeTypeList:[],pageNo:1,pageSize:10,totalNum:null},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),i(n,[{key:"componentDidMount",value:function(){this.getList(),this.getNoticeTypeList()}},{key:"render",value:function(){return e.createElement(c.default,{that:this})}}]),n}();t.default=m}).call(this,n(1),n(10))}}]);