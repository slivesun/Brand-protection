(window.webpackJsonp=window.webpackJsonp||[]).push([[8,92],{1075:function(e,t){},1076:function(e,t){},1077:function(e,t){},1078:function(e,t){},1079:function(e,t){},1080:function(e,t){},1081:function(e,t){},1087:function(e,t){},1091:function(e,t){},1099:function(e,t){},123:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.AddIcon=function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),a(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,a=t.style,n=t.className;return e.createElement("img",{className:n,style:a,src:"../../../../img/icon/add2.png"})}}]),n}()}).call(this,a(1))},28:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var n=function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),a(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),n}();t.default=n}).call(this,a(1))},29:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(48));a(47);var r=l(a(28));function l(e){return e&&e.__esModule?e:{default:e}}a(1075);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(n.default,{className:"breadcrumb"},t.breadcrumbList.map(function(a,r){return""===t.linkList[r]?e.createElement(n.default.Item,{key:a},a):e.createElement(n.default.Item,{href:"javascript:;",key:a},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},a))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,a(1))},542:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(38)),r=f(a(384)),l=f(a(130)),o=f(a(74)),i=f(a(11)),c=f(a(19)),s=f(a(146)),u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(37),a(385),a(169),a(94),a(26),a(20),a(145);var d=f(a(13));function f(e){return e&&e.__esModule?e:{default:e}}var m=s.default.TreeNode,p=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));n.getByProduct=function(){d.default.get("/hcm/hcmCustomModel/getByProduct",{params:{productClassifyid:n.state.id}}).then(function(e){var t=e.data.data;n.setState({dataList:t})}).catch(function(e){c.default.error(e.statusText)})},n.num=100,n.formAtDom=function(t){var a=[],c=n.state.dataList,s=n.state.showid;if(t){var u=function(t){a.push(e.createElement("div",{className:"item",key:Math.random()},e.createElement("p",null,c[t].title),e.createElement("div",{className:"info"},c[t].data.map(function(a,c){return a.edit?e.createElement("div",{key:c,className:"inputbox"},e.createElement("input",{ref:a.id,defaultValue:a.fieldname,className:"editinput"}),e.createElement("span",{className:"anticonbox"},e.createElement(i.default,{onClick:function(){return n.onSubItem(t,c)},type:"check"}),e.createElement(i.default,{onClick:function(){return n.onEdititem(t,a,c,!1)},type:"close"}))):e.createElement("div",{key:c,onMouseMove:function(){return n.onMouseOver(t,a,c)},className:"checkbox"},e.createElement(l.default,{onChange:function(e){return n.oCheckitem(e,t,a,c)},disabled:"1"==a.fieldRequired,checked:a.isChecked},e.createElement(o.default,{placement:"topLeft",title:a.fieldname},a.fieldname)),"1"==a.fieldRequired?null:a.id==s?e.createElement("span",{className:"anticonbox"},e.createElement(i.default,{onClick:function(){return n.onEdititem(t,a,c,!0)},type:"edit"}),e.createElement(r.default,{title:e.createElement("div",null,e.createElement("p",{style:{fontWeight:"bold"}},"你确定要删除该字段吗？"),e.createElement("p",null,"删除后录入的信息会被删除")),onConfirm:function(){return n.onRmitem(t,a,c)},okText:"确定",cancelText:"取消"},e.createElement(i.default,{type:"delete"}))):null)}),e.createElement("div",{className:"inputbox"},c[t].addStatus?e.createElement(e.Fragment,null,e.createElement("input",{ref:t,className:"editinput"}),e.createElement("span",{className:"anticonbox"},e.createElement(i.default,{onClick:function(){return n.addSubItem(t)},type:"check"}),e.createElement(i.default,{onClick:function(){return n.addButStatus(t,!1)},type:"close"}))):e.createElement("a",{onClick:function(){return n.addButStatus(t,!0)}},e.createElement(i.default,{style:{paddingRight:"6px"},type:"plus-circle-o"}),"新增")))))};for(var d in c)u(d)}else{var f=function(e){c[e].data.forEach(function(t,n){if(t.isChecked)return t.target=[e,n,t.fieldRequired],a.push(t)})};for(var d in c)f(d)}return a},n.onDrop=function(e){n.setState({endId:e.node.props.eventKey},function(){var t=e.node.props.pos.split("-"),a=e.dropPosition-Number(t[t.length-1]),r=n.state,l=r.stateID,o=r.endId,i=l.split(","),c=o.split(","),s=n.state.dataList,u=s[c[0]].data[c[1]].sort,d=s[i[0]].data[i[1]].sort;0===a?(s[c[0]].data[c[1]].sort=d,s[i[0]].data[i[1]].sort=u):a>0?s[i[0]].data[i[1]].sort=u+.01:a<0&&(s[i[0]].data[i[1]].sort=u-.01),n.setState({dataList:s})})},n.onDragStart=function(e){n.setState({stateID:e.node.props.eventKey})},n.canCelItem=function(e){console.log(e),n.oCheckitem({target:{checked:0}},e.target[0],e,e.target[1])};var s=n.props.params,u=s.id,f=s.name,m=s.status;return n.state={id:u,name:f,status:m,dataList:{},showid:null,stateID:null,endId:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),u(a,[{key:"componentDidMount",value:function(){this.getByProduct()}},{key:"onMouseOver",value:function(e,t,a){var n=this.state.dataList,r=this.state.showid;n[e].data[a].id!=r&&(r=n[e].data[a].id,this.setState({showid:r}))}},{key:"onRmitem",value:function(e,t,a){var n=this,r=this.state.dataList;d.default.get("/hcm/hcmCustomModel/delete",{params:{id:r[e].data[a].id,module:"PRODUCT"}}).then(function(e){c.default.success(e.data.message),n.getByProduct()}).catch(function(e){c.default.error(e.statusText)})}},{key:"onEdititem",value:function(e,t,a,n){var r=this.state.dataList;r[e].data[a].edit=n,this.setState({data:r,showid:null})}},{key:"onSubItem",value:function(e,t){var a=this,n=this.state.dataList,r=n[e].data[t];this.refs[r.id].value.trim().length?this.refs[r.id].value.trim().length>20?c.default.error("字段名过长 请限制在20字符以内"):(n[e].data[t].edit=!1,n[e].data[t].fieldname=this.refs[r.id].value,d.default.get("/hcm/hcmCustomModel/save",{params:{id:r.id,productClassifyId:this.state.id,fieldClassify:r.fieldClassify,fieldname:this.refs[r.id].value,module:"PRODUCT"}}).then(function(e){c.default.success(e.data.message),a.setState({dataList:n})}).catch(function(e){c.default.error(e.statusText)})):c.default.error("请输入字段名")}},{key:"oCheckitem",value:function(e,t,a,n){var r=this.state.dataList;r[t].data[n].isChecked=e.target.checked?1:0,r[t].data[n].sort=this.num++,this.setState({dataList:r})}},{key:"onSortSubmit",value:function(e){var t=this,a=[];this.formAtDom(!1).sort(function(e,t){return e.sort-t.sort}).forEach(function(e,t){a.push(e.id)}),d.default.get("/hcm/hcmCustomModel/saveSort",{params:{ids:a.join(","),productClassifyId:this.state.id,module:"PRODUCT"}}).then(function(e){"10000"==e.data.status&&(c.default.success(e.data.message),t.props.onShow(!1,"getlist"))}).catch(function(e){c.default.error(e.statusText)})}},{key:"addButStatus",value:function(e,t){var a=this.state.dataList;a[e].addStatus=t,this.setState({dataList:a})}},{key:"addSubItem",value:function(e){var t=this;if(this.refs[e].value.trim().length)if(this.refs[e].value.trim().length>20)c.default.error("字段名过长 请限制在20字符以内");else{var a=this.state.dataList;a[e].addStatus=!1,d.default.get("/hcm/hcmCustomModel/save",{params:{productClassifyId:this.state.id,fieldClassify:e.toLocaleUpperCase(),fieldname:this.refs[e].value,module:"PRODUCT"}}).then(function(n){"10000"==n.data.status&&(n.data.data.sort=t.num++,a[e].data.push(n.data.data),t.setState({dataList:a})),c.default.success(n.data.message)}).catch(function(e){c.default.error(e.statusText)})}else c.default.error("请输入字段名")}},{key:"render",value:function(){var t=this,a=(this.state.visible,this.formAtDom(!1).sort(function(e,t){return e.sort-t.sort}));return e.createElement(n.default,{title:"设置表格",visible:this.props.visible,maskClosable:!1,onOk:function(){return t.onSortSubmit()},onCancel:function(){return t.props.onShow(!1)},className:"set-table-header",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"}},e.createElement("div",{className:"box"},e.createElement("div",{className:"left"},e.createElement("p",{className:"title"},"可用字段"),e.createElement("div",{className:"items"},this.formAtDom(!0))),e.createElement("div",{className:"right"},e.createElement("p",{className:"title"},"已选字段"),e.createElement(s.default,{className:"draggable-tree",draggable:!0,onDragStart:function(e){return t.onDragStart(e)},onDrop:function(e){return t.onDrop(e)}},a.map(function(a,n){return e.createElement(m,{title:e.createElement("div",{className:"TreeNode-title"},e.createElement("span",null,a.fieldname),"1"==a.fieldRequired?null:e.createElement(i.default,{onClick:function(){return t.canCelItem(a)},type:"close-circle"})),key:a.target.join(",")})})),e.createElement("p",{className:"footer"},"按上下拖动可排序"))))}}]),a}();t.default=p}).call(this,a(1))},600:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(38)),r=v(a(188)),l=v(a(45)),o=v(a(43)),i=v(a(92)),c=v(a(14)),s=v(a(25)),u=v(a(11)),d=v(a(350)),f=v(a(30)),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a(37),a(346),a(51),a(42),a(93),a(18),a(24),a(26),a(349),a(32);var p=v(a(15)),h=v(a(542)),b=v(a(29)),y=a(123);function v(e){return e&&e.__esModule?e:{default:e}}f.default.Option;var E=d.default.Dragger,g=(0,p.default)(function(t){var a=t.state,n=a.id,r=a.dataList,d=a.name,f=a.formatColumn,m=a.checkAll,p=a.selectedRowKeys,v=a.setTableVisible,E=a.brandName,g=a.productName,C=a.pageNo,N=a.pageSize,w=a.totalElements,S={selectedRowKeys:p,onChange:function(e){return t.onTableCheckChange(e)}},_={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},O=function(a){return t.state[a]&&t.state[a].length?e.createElement(u.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(a)},style:_}):null};return e.createElement(b.default,{title:"活动详情",breadcrumbList:["售价公示",d],linkList:["1",""],history:t.props.history},e.createElement("div",{className:"productinfo"},e.createElement("div",{className:"search-box"},e.createElement("div",{className:"box"},e.createElement("div",{className:"item-ipt"},e.createElement("span",null,"品牌"),e.createElement(s.default,{placeholder:"请输入",value:E,onChange:function(e){return t.onChange(e,"brandName")},suffix:O("brandName"),style:{width:250}})),e.createElement("div",{className:"item-ipt"},e.createElement("span",null,"品名"),e.createElement(s.default,{placeholder:"请输入",value:g,onChange:function(e){return t.onChange(e,"productName")},suffix:O("productName"),style:{width:250}}))),e.createElement(c.default,{className:"btn6",onClick:function(){return t.onSearch()}},"查询")),e.createElement("div",{className:"content"},e.createElement("div",{className:"button-box"},e.createElement("div",{className:"action"},e.createElement("a",{href:"index.html#/ActionPriceInfo/"+n+"/"+v+"/"+d+"/add"},e.createElement(c.default,{className:"btn1-main",type:"primary"},e.createElement(y.AddIcon,{style:{paddingRight:"8px"}}),"新增")),e.createElement(c.default,{className:"btn1-sub",onClick:function(){return t.rmAll()}},"批量删除"),e.createElement("a",{href:"/hcm/hcmProduct/exportExcel?ClassifyId="+n+"&brandName="+E+"&productName="+g+"&istemplet=0"},e.createElement(c.default,{className:"btn1-sub"},"下载数据")),e.createElement(c.default,{className:"btn1-sub",onClick:function(){return t.onuploadVisible(!0)}},"批量导入"),e.createElement("a",{href:"/hcm/hcmProduct/exportExcel?ClassifyId="+n+"&brandName="+E+"&productName="+g+"&istemplet=1"},e.createElement(c.default,{className:"btn1-sub",icon:"download"},"导入模版下载"))),e.createElement("div",{className:"info"},e.createElement("a",{style:{margin:"0"},onClick:t.ProduHistory},e.createElement(c.default,{className:"btn1-sub"},"变更历史")),e.createElement(u.default,{onClick:function(){return t.onShowSetTable(!0)},type:"setting"}))),e.createElement("div",null,e.createElement(i.default,{message:e.createElement("div",null,"共 ",e.createElement("a",null,w)," 项，已选择 ",e.createElement("a",null,m?w:p.length)," 项 ",e.createElement("a",{onClick:function(){return t.checkAll(!0)}},"勾选全部"),"/",e.createElement("a",{onClick:function(){return t.checkAll(!1)}},"取消勾选")),type:"info",showIcon:!0})),f.length?e.createElement(e.Fragment,null,e.createElement(o.default,{rowKey:"id",pagination:!1,scroll:{x:200*(f.length-1)},rowSelection:S,columns:f.sort(function(e,t){return e.sort-t.sort}),dataSource:r}),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+w+" 条记录 ","  ","第  "+C+"  / "+Math.ceil(w/N)+" 页"),e.createElement(l.default,{pageSize:N,current:C,total:w,onChange:t.changePagination,onShowSizeChange:t.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0}))):null),e.createElement(h.default,{onShow:function(e,a){return t.onShowSetTable(e,a)},visible:v,params:t.props.match.params}),e.createElement(k,{that:t})))});t.default=g;var k=(0,p.default)(function(t){var a=t.state,l=a.uploading,o=a.uploadVisible,i=a.fileList,s=a.percent;return e.createElement(n.default,{title:"批量导入",visible:o,maskClosable:!1,onCancel:function(){return t.onuploadVisible(!1)},footer:[e.createElement(c.default,{key:"back2",className:"btn2-main upload-demo-start",type:"primary",onClick:function(){return t.handleUpload()},disabled:0===i.length,loading:l},l?"上传中":"上传"),e.createElement(c.default,{className:"btn2-sub noneFloat",key:"back",onClick:function(){return t.onuploadVisible(!1)}},"取消")]},e.createElement(E,m({multiple:!1},t.propsUpload()),e.createElement("p",{className:"ant-upload-drag-icon"},e.createElement("img",{style:{paddingTop:20},src:"../../../img/upload_files.png"})),e.createElement("p",{className:"ant-upload-text"},"点击这里选择文件上传"),e.createElement("p",{className:"ant-upload-hint"},"支持扩展名：.xls .xlsx")),s?e.createElement(r.default,{percent:s}):null)})}).call(this,a(1))},713:function(e,t){}}]);