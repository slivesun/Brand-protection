(window.webpackJsonp=window.webpackJsonp||[]).push([[53,54],{1075:function(e,t){},1076:function(e,t){},1085:function(e,t){},1086:function(e,t){},1089:function(e,t){},1094:function(e,t){},1104:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(14)),r=c(n(101)),i=c(n(11)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(18),n(102),n(26);var l=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}n(1105);var u=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],s=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleShowMoreClick=function(){t.setState({isShowMoreBtns:!t.state.isShowMoreBtns})},t.state={isShowMoreBtns:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),o(n,[{key:"render",value:function(){var t=this,n=this.state.isShowMoreBtns,o=this.props.infos,c=o.sevenDayNums,s=void 0===c?[]:c,p=o.currentDate,d=o.currentDateIndex,f=o.shopBtnList,m=void 0===f?[]:f,h=o.currentShopBtnIndex,v=m.reduce(function(e,t){return e+t.act_count},0);return e.createElement("div",{className:"sevenday-card-wrapper"},e.createElement("section",{className:"items"},0===s.length?null:s.map(function(n,a){var r=(0,l.default)(n.my_date);return e.createElement("div",{className:"item "+(d===a?"active":""),onClick:function(){t.props.dateClick({index:a,date:r.format("YYYY-MM-DD")})},key:n.my_date},e.createElement("div",{className:"date"},e.createElement("span",null,u[r.day()],"  ",p===(0,l.default)().format("YYYY-MM-DD")&&0===a?e.createElement("p",{className:"today"},"今日"):null),e.createElement("span",null,r.format("DD"))),e.createElement("p",{className:"text"},0===a?"进行中":"已审核","活动（",n.all_count||0,"）"))})),e.createElement("div",{className:"shop-btns"},e.createElement("div",{className:"head"},e.createElement("h3",{style:{fontSize:"16px",color:"#333"}},"活动店铺（",m.length||0,"）"),e.createElement("span",{onClick:this.handleShowMoreClick},n?"收起":"展开","更多",e.createElement(i.default,{type:n?"up":"down"}))),e.createElement(r.default,{style:{margin:"10px 0"}}),n?e.createElement("section",{className:"btns"},e.createElement(a.default,{type:0===h?"primary":"",onClick:function(){t.props.shopBtnClick({index:0})}},"全部（",v,"）"),0===m.length?null:m.map(function(n,r){return e.createElement(a.default,{type:h===r+1?"primary":"",onClick:function(){t.props.shopBtnClick({index:r+1,shop_id:n.shop_id})},className:"btn",key:n.shop_name},n.shop_name+"（"+n.act_count+"）")})):null))}}]),n}();t.default=s}).call(this,n(1))},1105:function(e,t){},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(48));n(47);var r=i(n(28));function i(e){return e&&e.__esModule?e:{default:e}}n(1075);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,n(1))},524:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(14)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(18);var i=u(n(15)),o=u(n(29)),l=u(n(1104)),c=u(n(715));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)(function(t){var n=t.state,i=n.sevenDayNums,u=n.currentDateIndex,s=n.currentDate,p=n.shopBtnList,d=n.currentShopBtnIndex,f=n.activityList,m=n.pagination,h=m.count,v=m.pageNum,y=m.pageSize;return e.createElement(o.default,{title:"活动公示",breadcrumbList:["活动信息","活动公示"],linkList:["",""]},e.createElement(l.default,{infos:{sevenDayNums:i,currentDate:s,currentDateIndex:u,shopBtnList:p,currentShopBtnIndex:d},dateClick:t.handleDateChange,shopBtnClick:t.handleShopBtnChange}),0===f.length?null:f.map(function(n,a){return e.createElement("div",{className:"activity-item",key:n.id},e.createElement(c.default,{infos:r({},n,{_index:a}),isShowReview:!1,togglePrice:t.handleTogglePriceClick}))}),v*y>h?null:e.createElement("div",{className:"load-more"},e.createElement(a.default,{onClick:t.handleLoadMoreBtnClick},"加载更多···")))});t.default=s}).call(this,n(1))},715:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(91)),r=d(n(14)),i=d(n(25)),o=d(n(101)),l=d(n(40)),c=d(n(11)),u=d(n(35)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(90),n(18),n(24),n(102),n(49),n(26),n(50);var p=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}n(1094);var f=function(t){var n=t.infos,d=n.shop_name,f=n.start_time,m=n.end_time,h=n.product_name,v=n.product_url,y=n.price_map,g=n.apply_price,_=n.campaign_type,b=n.gift_situation,E=n.play_content,w=n.actual_price,N=n.campaign_id,x=n.campaign_node,S=n.campaignExamine,k=n.id,C=n._index,D=n._isExpandPrice,O={campaign_id:N,cam_pro_id:k},M=e.createElement(l.default,null,e.createElement(u.default,{span:8,className:"overflow-hidden"},"产品信息：",h),e.createElement(u.default,{span:12,className:"overflow-hidden"},"商品链接：",e.createElement("a",{href:v,target:"_blank"},v)),e.createElement(u.default,{span:3,className:"toggle-price",onClick:t.togglePrice.bind(void 0,C)},D?"收起":"展开","参考价格 ",e.createElement(c.default,{type:D?"up":"down"})));return e.createElement("div",{className:"wrapper "+t.className},t.isShowHead?e.createElement(l.default,{className:"head"},e.createElement(u.default,{span:8,className:"text-overflow-hidden"},"店铺名称：",d),e.createElement(u.default,{span:16},"活动时间：",(0,p.default)(f).format("YYYY-MM-DD HH:mm:ss")+"~"+(0,p.default)(m).format("YYYY-MM-DD HH:mm:ss"))):null,e.createElement(a.default,{title:M},D?e.createElement(e.Fragment,null,e.createElement(l.default,{className:"price-map"},Object.entries(y).map(function(t,n){return e.createElement(u.default,{key:n,span:8},t[0]+"：¥"+t[1])})),e.createElement(o.default,{dashed:!0})):null,t.isShowReview?e.createElement(e.Fragment,null,e.createElement(l.default,{className:"public-info"},e.createElement(u.default,{span:8},e.createElement("p",null,"申请标价：","¥"+g),e.createElement("p",null,"实际成交价：","¥"+w),e.createElement("p",{className:"text-overflow-hidden"},"玩法说明：",E)),e.createElement(u.default,{span:8},e.createElement("p",{className:"text-overflow-hidden"},"活动类型：",_),e.createElement("p",{className:"text-overflow-hidden"},"赠品情况：",b),e.createElement("p",null)),e.createElement(u.default,{span:8},"待审核"!==x?e.createElement("p",null,"审核人：",S?S.examine_username:""):null,"待审核"===x&&"活动待审核"===t.activityStatus?e.createElement(e.Fragment,null,e.createElement("p",null,"审核意见：",e.createElement(i.default,{placeholder:"请输入",style:{width:"242px"},onChange:t.inputChange.bind(void 0,C)})),e.createElement("p",null,"审核结果：",e.createElement(r.default,{icon:"check-circle-o",className:"btn4-pass",onClick:t.submit.bind(void 0,s({examine_view:t.reviewText[C],examine_result:"审核通过"},O),C)},"通过"),"  ",e.createElement(r.default,{icon:"info-circle-o",className:"btn4-reject",onClick:t.submit.bind(void 0,s({examine_view:t.reviewText[C],examine_result:"审核驳回"},O),C)},"驳回"))):e.createElement(e.Fragment,null,e.createElement("p",{className:"text-overflow-hidden"},"审核意见：",S?S.examine_view:""),e.createElement("p",null,"审核结果：",S?"审核通过"===S.examine_result?e.createElement(r.default,{icon:"check-circle-o",type:"primary",style:{backgroundColor:"#52C41A",borderColor:"#52C41A"}},"通过"):e.createElement(r.default,{icon:"info-circle-o",type:"primary",style:{backgroundColor:"#faad14",borderColor:"#faad14"}},"驳回"):null))))):e.createElement(l.default,{className:"review-wrapper"},e.createElement(u.default,{span:8},"活动标价：","¥"+g),e.createElement(u.default,{span:8,className:"text-overflow-hidden"},"活动类型：",_),e.createElement(u.default,{span:8,className:"text-overflow-hidden"},"赠品情况：",b),e.createElement(u.default,{span:8},"实际成交价：","¥"+w),e.createElement(u.default,{span:8,className:"text-overflow-hidden"},"玩法说明：",E))))};f.defaultProps={isShowHead:!0,isShowReview:!0,submit:function(){},inputChange:function(){},reviewText:"",activityStatus:""},t.default=f}).call(this,n(1))},788:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(524)),o=c(n(13)),l=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleDateChange=function(e){t.setState({currentDateIndex:e.index,currentDate:e.date,currentShopBtnIndex:0},function(){t.getReviewedShop({type:e.date===(0,l.default)().format("YYYY-MM-DD")?1:2,date:e.date}),t.getActivityList(a({type:e.date===(0,l.default)().format("YYYY-MM-DD")?1:2,date:e.date},t.state.pagination))})},t.handleTogglePriceClick=function(e){var n=t.state.activityList.slice();n[e]._isExpandPrice=!n[e]._isExpandPrice,t.setState({activityList:n})},t.handleLoadMoreBtnClick=function(){console.log("load")},t.handleShopBtnChange=function(e){t.setState({currentShopBtnIndex:e.index}),t.getActivityList(a({type:(0,l.default)().format("YYYY-MM-DD")===t.state.currentDate?1:2,date:t.state.currentDate,shop_id:void 0===e.shop_id?"":"'"+e.shop_id+"'"},t.state.pagination))},t.getActivityList=function(e){var n={campaign_node:"已审核",type:e.type,ser_day:e.date,pageSize:e.pageSize,pageNum:e.pageNum};void 0!==e.shop_id&&""!==e.shop_id&&(n.shop_id=e.shop_id),(0,o.default)({method:"post",url:"/hcm/campgign/ScheduleBMC",data:n}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({activityList:a.list.length?a.list.map(function(e){return Object.assign({},e,{_isExpandPrice:!1})}):[],pagination:Object.assign({},t.state.pagination,{count:a.count})})}).catch()},t.getReviewedShop=function(e){(0,o.default)({method:"post",url:"/hcm/campgign/PublicShops",data:{campaign_node:"已审核",type:e.type,ser_day:e.date}}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({shopBtnList:a})}).catch()},t.getSevenDayActivity=function(){(0,o.default)({method:"post",url:"/hcm/campgign/ScheduleBMCSeven"}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({sevenDayNums:a})}).catch()},t.state={sevenDayNums:[],shopBtnList:[],currentDateIndex:0,currentDate:(0,l.default)().format("YYYY-MM-DD"),currentShopBtnIndex:0,activityList:[],pagination:{pageNum:1,pageSize:10,count:0}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),r(n,[{key:"componentWillMount",value:function(){this.getSevenDayActivity(),this.getReviewedShop({type:1,date:this.state.currentDate}),this.getActivityList({type:1,date:this.state.currentDate,pageNum:this.state.pagination.pageNum,pageSize:this.state.pagination.pageSize})}},{key:"render",value:function(){return e.createElement(i.default,{that:this})}}]),n}();t.default=u}).call(this,n(1))}}]);