(window.webpackJsonp=window.webpackJsonp||[]).push([[47,46],{1076:function(e,t){},1077:function(e,t){},1093:function(e,t){},165:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(720);t.default={Encrypt:function(e){var t=n.enc.Utf8.parse("hcmabcdefghijklm"),a=n.enc.Utf8.parse(e);return n.AES.encrypt(a,t,{mode:n.mode.ECB,padding:n.pad.Pkcs7}).toString()},Decrypt:function(e){var t=n.enc.Utf8.parse("hcmabcdefghijklm"),a=n.AES.decrypt(e,t,{mode:n.mode.ECB,padding:n.pad.Pkcs7});return n.enc.Utf8.stringify(a).toString()}}},28:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var n=function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),a(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),n}();t.default=n}).call(this,a(1))},521:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(38)),r=s(a(222)),l=s(a(19)),o=s(a(25)),i=s(a(30)),u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(37),a(221),a(20),a(24),a(32);var c=s(a(13));function s(e){return e&&e.__esModule?e:{default:e}}i.default.Option,o.default.TextArea;var d=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.getDepartmentLeaderList=function(){var e=t.state.parentId;c.default.get("/hcm/userout/getDepartmentLeaderList",{params:{departmentId:e}}).then(function(e){t.setState({leaderList:e.data.data,departLeader:[]})}).catch(function(e){l.default.error(e.statusText)})},t.chTreeSelect=function(e,a,n,r){var l=t.state;l[r]=e,t.setState(l,function(){})},t.onChange=function(e,a){var n=t.state;n[a]=e.target.value,t.setState(n)},t.handleChange=function(e){t.setState({departLeader:e})},t.onSubmit=function(){var e=t.state,a=e.parentId,n=e.departName,r=e.departLeader;a?!n||n.length<=0?l.default.error("请输入部门名称"):c.default.post("/hcm/department/savaDepartment",{parentId:a,departName:n,departState:1,departLeader:r.join(",")}).then(function(e){if("10000"==e.data.status){l.default.success(e.data.message);var a=t.props,n=a.onShowAdd;(0,a.getDepartmentList)(),n(!1)}else l.default.warning(e.data.message)}).catch(function(e){l.default.error(e.statusText)}):l.default.error("请选择父级部门")},t.state={departmentList:t.props.departmentList,visible:t.props.visible,parentId:null,departName:null,leaderList:[],departLeader:[]},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),u(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.departmentList,a=void 0===t?[]:t;this.setState({parentId:null,departName:null,departLeader:[],visible:e.visible,departmentList:a},function(){(0==a.length||a[0]&&"0"!=a[0].key)&&a.unshift({key:"0",title:"无",value:"0"})})}},{key:"render",value:function(){var t=this,a=this.state,l=a.departmentList,i=a.visible,u=a.parentId,c=a.departName,s=(a.leaderList,a.departLeader,this.props.onShowAdd);return e.createElement(n.default,{maskClosable:!1,title:"新增部门",visible:i,className:"add-department",onCancel:function(){return s(!1)},onOk:function(){return t.onSubmit()}},e.createElement("ul",{className:"items"},e.createElement("li",{className:"item"},e.createElement("span",{className:"title  red-ck"},"父级部门"),e.createElement("div",{className:"ipt-box"},e.createElement(r.default,{style:{width:"100%"},dropdownStyle:{maxHeight:200,overflow:"auto"},value:[u],treeData:l,onChange:function(e,a,n){return t.chTreeSelect(e,a,n,"parentId")}}))),e.createElement("li",{className:"item"},e.createElement("span",{className:"title  red-ck"},"部门名称"),e.createElement("div",{className:"ipt-box"},e.createElement(o.default,{onChange:function(e){return t.onChange(e,"departName")},value:c})))))}}]),a}();t.default=d}).call(this,a(1))},784:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=b(a(14)),o=b(a(11)),i=b(a(222)),u=b(a(74)),c=b(a(48)),s=b(a(19)),d=b(a(25)),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(18),a(26),a(221),a(94),a(47),a(20),a(24);var f=b(a(13)),p=b(a(28)),h=b(a(521)),v=b(a(69)),y=b(a(165));function b(e){return e&&e.__esModule?e:{default:e}}var g=d.default.TextArea,E=(n=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));r.call(t);var n=t.props.match.params,l=n.id,o=n.type;return t.state={id:l,type:o,addshow:!1,departmentList:[],departid:null,username:null,realname:null,password:null,memo:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),m(a,[{key:"componentDidMount",value:function(){var e=this;this.getDepartmentList(),"edit"==this.state.type&&this.getInfo(),f.default.get("/hcm/userout/getParentUseroutName").then(function(t){e.setState({masterName:t.data.data.username})}).catch(function(e){s.default.error(e.statusText)})}},{key:"getInfo",value:function(){var e=this;f.default.get("/hcm/userout/getUserById",{params:{userId:this.state.id,usertype:"c"}}).then(function(t){var a=t.data.data;e.setState({departid:""+a.departid,username:a.username,realname:a.realname,password:"******",memo:a.memo})}).catch(function(e){s.default.error(e.statusText)})}},{key:"render",value:function(){var t=this,a=this.state,n=a.addshow,r=a.masterName,s=a.username,m=a.realname,f=a.password,v=a.memo,y=a.departid,b=a.departmentList,E=a.type;return e.createElement("div",{className:"info-item"},e.createElement("div",{className:"Breadcrumb"},e.createElement(c.default,null,e.createElement(c.default.Item,null,e.createElement("a",{href:"/index.html#/AccountManagement"},"账号管理")),e.createElement(c.default.Item,null,"edit"==E?"编辑":"新增"))),e.createElement("ul",{className:"content"},e.createElement("li",{className:"item"},e.createElement("span",{className:"title red-ck"},"姓名"),e.createElement("div",{className:"ipt-box"},e.createElement(d.default,{onChange:function(e){return t.onChange(e,"realname")},maxLength:"32",value:m}))),e.createElement("li",{className:"item"},e.createElement("span",{className:"title red-ck"},"用户名"),e.createElement("div",{className:"ipt-box"},e.createElement(u.default,{overlayStyle:{maxWidth:"400px"},placement:"right",title:e.createElement("ul",null,e.createElement("li",null,"6 - 16 个字符，可使用数字、字母、下划线;"),e.createElement("li",null,"需以字母开头，字母区分大小写。"),e.createElement("li",null,"首尾空格无效;"),e.createElement("li",null,"创建后不可修改;"))},e.createElement(d.default,{disabled:"edit"==E,addonBefore:r+":",onChange:function(e){return t.onChange(e,"username")},value:s})))),e.createElement("li",{className:"item"},e.createElement("span",{className:"title red-ck"},"密码"),e.createElement("div",{className:"ipt-box"},e.createElement(u.default,{placement:"right",title:"6 - 16  个字符"},e.createElement(d.default,{onChange:function(e){return t.onChange(e,"password")},type:"password",value:f})))),e.createElement("li",{className:"item"},e.createElement("span",{className:"title  red-ck"},"所属部门"),e.createElement("div",{className:"ipt-box"},e.createElement(i.default,{style:{width:"100%"},dropdownStyle:{maxHeight:300,overflow:"auto"},value:[y],treeData:b,onChange:function(e,a,n){return t.chTreeSelect(e,a,n,"departid")}})),e.createElement("a",{onClick:function(){return t.onShowAdd(!0)},style:{fontSize:"14px",paddingLeft:"20px"}},e.createElement(o.default,{style:{paddingRight:"10px"},type:"plus-circle",theme:"outlined"}),"新增部门")),e.createElement("li",{className:"item"},e.createElement("span",{className:"title"},"备注说明"),e.createElement("div",{className:"ipt-box"},e.createElement(g,{onChange:function(e){return t.onChange(e,"memo")},value:v,placeholder:"",autosize:{minRows:2,maxRows:6}}))),e.createElement("li",{className:"item"},e.createElement("span",{className:"title"}),e.createElement("div",{className:"ipt-box"},e.createElement(l.default,{className:"AccountEdit btn2-main",onClick:function(){return t.onSubmit()}},"确定"),e.createElement("a",{href:"/index.html#/AccountManagement"},e.createElement(l.default,null,"返回"))))),e.createElement(h.default,{getDepartmentList:function(){return t.getDepartmentList()},onShowAdd:function(e){return t.onShowAdd(e)},departmentList:b,visible:n}),e.createElement(p.default,{clazzName:"copyright"}))}}]),a}(),r=function(){var e=this;this.getDepartmentList=function(){f.default.get("/hcm/department/fuByIds",{params:{id:0}}).then(function(t){if("10000"==t.data.status&&t.data.data){var a=t.data.data;e.setState({departmentList:function e(t){return t.map(function(t,a){return null!=t.subSysDepartment?{title:t.departName,value:""+t.id,key:""+t.id,children:e(t.subSysDepartment)}:{title:t.departName,value:""+t.id,key:""+t.id}})}(a)})}}).catch(function(e){s.default.error(e.statusText)})},this.chTreeSelect=function(t,a,n,r){var l=e.state;l[r]=t,e.setState(l)},this.onChange=function(t,a){var n=e.state;n[a]=t.target.value,e.setState(n)},this.onSubmit=function(){var t=e.state,a=t.masterName,n=t.departid,r=t.username,l=t.realname,o=t.password,i=t.memo,u=t.id,c=t.type;null!=l&&0!=l.length?v.default.legnthCheck(l,"INPUT")?v.default.checkAccount(r)?v.default.checkPassword(o)?n?v.default.legnthCheck(i,"URL")?(LoadingModal({bl:!0,text:"保存中,请稍后..."}),f.default.post("/hcm/userout/saveUserOutChildren",{departid:n,realname:l,password:y.default.Encrypt(v.default.trim(o)),memo:i,username:a+":"+v.default.trim(r),id:"edit"==c?u:null}).then(function(t){"10000"==t.data.status?(s.default.success("成功"),"edit"==c?window.location.href="/index.html#/AccountManagement":e.setState({addshow:!1,departid:null,username:null,realname:null,password:null,memo:null}),LoadingModal({bl:!1})):(s.default.warning(t.data.message),LoadingModal({bl:!1}))}).catch(function(e){s.default.error(e.statusText)})):s.default.error("备注说明长度不允许超过500"):s.default.error("请输入部门"):s.default.error("密码长度不符"):s.default.error("请按照要求用户名"):s.default.error("姓名长度不允许超过50"):s.default.error("请输入姓名")},this.onShowAdd=function(t){e.setState({addshow:t})}},n);t.default=E}).call(this,a(1))}}]);