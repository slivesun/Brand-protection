(window.webpackJsonp=window.webpackJsonp||[]).push([[113,114],{1075:function(e,t){},1076:function(e,t){},1082:function(e,t){},1085:function(e,t){},1086:function(e,t){},1088:function(e,t){},1089:function(e,t){},124:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ImgModal=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(26),n(1088);var o=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={index:t.props.index,rotate:0,size:1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),l(n,[{key:"componentDidMount",value:function(){}},{key:"onSwitch",value:function(e){var t=this.state,n=t.index,a=(t.rotate,t.size,this.props.urls);e?n==a.length-1?n=0:n++:n<=0?n=a.length-1:n--,this.setState({index:n,rotate:0,size:1})}},{key:"onSize",value:function(e){var t=this.state.size;e?t+=.5:t=t<=.5?.5:t-.5,this.setState({size:t})}},{key:"onRotate",value:function(e){var t=this.state.rotate;e?t+=90:t-=90,this.setState({rotate:t})}},{key:"colse",value:function(){a.unmountComponentAtNode(document.getElementById("ImgModal")),document.getElementsByTagName("body")[0].removeChild(document.getElementById("ImgModal"))}},{key:"render",value:function(){var t=this,n=this.props,a=n.urls,l=void 0===a?[]:a,o=n.close,c=void 0!==o&&o,i=this.state,u=i.index,s=void 0===u?0:u,m=i.rotate,d=i.size,f=document.createElement("img");f.src=l[s];var p=f.naturalWidth?f.naturalWidth:400;f.naturalHeight&&f.naturalHeight;return console.log(p),e.createElement("div",{className:"flexbox"},e.createElement("div",{className:"imgbox"},c?e.createElement(r.default,{className:"close",onClick:function(){return t.colse()},type:"close-circle"}):null,e.createElement("div",{className:"box"},e.createElement("img",{style:{width:d*(p>500?.7*p:p)+"px",transform:"rotate("+m+"deg)"},src:l[s]})),e.createElement("div",{className:"buts"},e.createElement(r.default,{onClick:function(){return t.onSwitch(!1)},type:"left"}),e.createElement(r.default,{onClick:function(){return t.onSwitch(!0)},type:"right"}),e.createElement(r.default,{onClick:function(){return t.onSize(!0)},type:"plus"}),e.createElement(r.default,{onClick:function(){return t.onSize(!1)},type:"minus"}),e.createElement(r.default,{onClick:function(){return t.onRotate(!1)},className:"left",type:"reload"}),e.createElement(r.default,{onClick:function(){return t.onRotate(!0)},className:"right",type:"reload"})),e.createElement("div",{style:{textAlign:"center",fontSize:"12px"}},e.createElement("a",{target:"_blank",href:l[s]},"查看原图"))))}}]),n}();t.ImgModal=function(t){var n=t.bl,r=void 0!==n&&n,l=(t.urls,document.createElement("div"));l.setAttribute("id","ImgModal"),r?(document.body.appendChild(l),a.render(e.createElement(o,t),document.getElementById("ImgModal"))):(a.unmountComponentAtNode(document.getElementById("ImgModal")),document.getElementsByTagName("body")[0].removeChild(document.getElementById("ImgModal")))}}).call(this,n(1),n(12))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(48));n(47);var r=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}n(1075);var o=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};o.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=o}).call(this,n(1))},551:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(91)),r=f(n(168)),l=f(n(101)),o=f(n(14)),c=f(n(40)),i=f(n(11)),u=f(n(35)),s=f(n(48));n(90),n(187),n(102),n(18),n(49),n(26),n(50),n(47);var m=f(n(15)),d=f(n(29));f(n(28));function f(e){return e&&e.__esModule?e:{default:e}}s.default.Item;var p=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],h=(0,m.default)(function(t){var n=t.state,a=n.selectedIndex,r=n.moreButton,l=n.sevenData,s=n.currentShopBtn,m=n.shopBtnList;return e.createElement("div",{className:"activity-date"},e.createElement("section",{className:"date-card"},l.map(function(n,r){var l=new Date(n.my_date),o=p[l.getDay()],c=l.getDate()+"",i=l.getFullYear()+"-"+String(l.getMonth()+1).padStart(2,"0")+"-"+c.padStart(2,"0");return e.createElement("div",{className:"card "+(a===r?"activite":""),onClick:function(){return t.switchActivity(i,r)},key:n.my_date},e.createElement("div",null,e.createElement("span",null,o,"  ",6===a&&6===r?e.createElement("p",{className:"today"},"昨日"):null),e.createElement("span",null,c.padStart(2,"0"))),e.createElement("div",null,e.createElement("p",null,"不合格活动（"+n.all_count+"）")))})),e.createElement("section",{className:"date-info"},e.createElement("div",{className:"activity-shops"},e.createElement(c.default,{type:"flex",justify:"space-between",className:"row"},e.createElement(u.default,{span:4,className:"title"},"活动店铺（",m.length||0,"）"),e.createElement(u.default,{span:2,className:"more",onClick:t.moreButton},r?e.createElement("span",null,"收起更多 ",e.createElement(i.default,{type:"up"})):e.createElement("span",null,"展开更多 ",e.createElement(i.default,{type:"down"})))),r?e.createElement(c.default,{className:"row"},e.createElement(o.default,{className:"btn-item",type:"all"===s?"primary":"",onClick:function(){t.switchShopBtn("all")}},"全部（",m.length||0,"）"),m.length?m.map(function(n,a){return e.createElement(o.default,{key:n.shop_id,type:s===n.shop_id?"primary":"",onClick:function(){t.switchShopBtn(n.shop_id)},className:"show btn-item"},n.shop_name+"（"+n.act_count+"）")}):null):null)))}),g=(0,m.default)(function(t){var n=t.state,i=n.inspectInfoList,s=n.pagination,m=s.count,f=s.pageSize,p=s.pageNum,g=function(n){return e.createElement("div",{className:"img-wrapper"},n.length?n.map(function(a,r){return e.createElement("img",{src:a,key:a,onClick:function(){t.handleImgClick({bl:!0,close:!0,urls:n,index:r})},style:{width:"72px",height:"72px",borderRadius:"3px"}})}):null)};return e.createElement(d.default,{breadcrumbList:["活动信息","活动稽查公示"],linkList:["",""]},e.createElement("div",{className:"activity-inspection-publicity-wrapper"},e.createElement("section",{className:"content"},e.createElement(h,{that:t}),i.length?i.map(function(n,o){var i=n.screenshot_b,s=n.screenshot_c,m=n.screenshot_o,d=n.system_review,f=n.system_review_explain,p=n.brand_review,h=n.brand_review_username,y=n.brand_review_view,E=n.campaign_id,v=!!i&&JSON.parse(i),b=!!s&&JSON.parse(s),_=!!m&&JSON.parse(m);return e.createElement(a.default,{title:function(n){return e.createElement("div",{className:"card-title"},e.createElement("div",{className:"top"},e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:24},"所属客户：",n.dealername)),e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:12},"店铺名称：",n.shop_name),e.createElement(u.default,{span:12},"活动时间：",t.formatTime(n.start_time,!0)," ~ ",t.formatTime(n.end_time,!0))),e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:12,className:"overflow-hidden"},"产品信息：",n.product_name),e.createElement(u.default,{span:12},"商品链接：",e.createElement("a",{href:n.product_url,target:"_blank"},n.product_url)))),e.createElement(l.default,{dashed:!0}),e.createElement("div",{className:"bottom"},e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:8},"活动标价：¥",n.apply_price),e.createElement(u.default,{span:8},"活动类型：",n.campaign_type),e.createElement(u.default,{span:8},"赠品情况：",n.gift_situation)),e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:8},"实际成交价：¥",n.actual_price),e.createElement(u.default,{span:8},"玩法说明：",n.play_content))))}(n),className:"inspect-detail",key:E},e.createElement("div",{className:"body-top"},e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:8,className:"img"},"标价截图：",g(v||[])),e.createElement(u.default,{span:8,className:"img"},"成交价截图：",g(b||[])),e.createElement(u.default,{span:8,className:"img"},"其他截图：",g(_||[]))),e.createElement(c.default,{className:"row"},e.createElement(u.default,{span:8},"系统稽查结果：",d?"合格"===d?e.createElement(r.default,{color:"green"},"合格"):e.createElement(r.default,{color:"red"},"不合格"):null),e.createElement(u.default,{span:8},"结果说明：",e.createElement("span",null,f)))),e.createElement(l.default,null),e.createElement("div",{className:"body-bottom"},e.createElement(c.default,null,e.createElement(u.default,{span:8},"稽查结果：",p?"合格"===p?e.createElement(r.default,{color:"green"},"合格"):e.createElement(r.default,{color:"red"},"不合格"):null),e.createElement(u.default,{span:8},"稽查人：",h),e.createElement(u.default,{span:8},"稽查意见：",y))))}):null,p*f>m?null:e.createElement("div",{className:"loadMore"},e.createElement(o.default,{onClick:t.handleLoadMoreClick},"加载更多···")))))});t.default=g}).call(this,n(1))},821:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=u(n(551)),o=n(124),c=u(n(13)),i=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e),a=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0");return t&&(a+=" "+String(n.getHours()).padStart(2,"0")+":"+String(n.getMinutes()).padStart(2,"0")),a},t.getInspectPublicList=function(e){(0,c.default)({method:"post",url:"/hcm/campgign/PublicInspectList",data:{pageSize:e.pageSize,pageNum:e.pageNum,ser_date:e.date,shop_ids:"all"===e.shop_id?"":e.shop_id}}).then(function(e){var n=e.data,a=n.data;n.status;t.setState({inspectInfoList:a.list,pagination:Object.assign({},t.state.pagination,{count:a.count})})}).catch(function(e){})},t.getShopNum=function(e){(0,c.default)({method:"post",url:"/hcm/campgign/PublicInspectShops",data:{ser_date:e}}).then(function(e){var n=e.data,a=n.data;n.status;t.setState({shopBtnList:a})}).catch(function(e){})},t.switchShopBtn=function(e){t.setState({currentShopBtn:e}),t.getInspectPublicList(a({},t.state.pagination,{date:""===t.state.currentDate?t.formatTime(Date.now()):t.state.currentDate,shop_id:"all"===e?"all":"'"+e+"'"}))},t.switchActivity=function(e,n,r){t.setState({selectedIndex:n,currentDate:e}),t.getShopNum(e),t.getInspectPublicList(a({date:e,shop_ids:t.state.currentShopBtn},t.state.pagination))},t.getInspectPublicSeven=function(){(0,c.default)({method:"post",url:"/hcm/campgign/InspectPublicSeven"}).then(function(e){var n=e.data,a=n.data,r=(n.status,a.sort(function(e,t){return e.my_date-t.my_date}));t.setState({sevenData:r})}).catch(function(e){})},t.handleLoadMoreClick=function(){var e=t.state,n=e.pagination,r=e.currentDate,l=e.currentShopBtn;t.setState({pagination:Object.assign({},n,{pageNum:n.pageNum+1})},function(){t.getInspectPublicList(a({date:""===r?t.formatTime(Date.now()):r,shop_id:"all"===l?"all":"'"+l+"'"},t.state.pagination))})},t.handleImgClick=function(e){(0,o.ImgModal)(e)},t.moreButton=function(){t.setState({moreButton:!t.state.moreButton})},t.state={selectedIndex:6,moreButton:!1,sevenData:[],currentShopBtn:"all",shopBtnList:[],inspectInfoList:[],pagination:{pageNum:1,pageSize:10},currentDate:""},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),r(n,[{key:"componentWillMount",value:function(){this.getInspectPublicSeven(),this.getShopNum((0,i.default)().subtract(1,"d").format("YYYY-MM-DD")),this.getInspectPublicList(a({date:this.formatTime((0,i.default)().subtract(1,"d").format("YYYY-MM-DD")),shop_id:this.state.currentShopBtn},this.state.pagination))}},{key:"render",value:function(){return e.createElement(l.default,{that:this})}}]),n}();t.default=s}).call(this,n(1))}}]);