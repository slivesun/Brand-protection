(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{1076:function(e,t){},1077:function(e,t){},1078:function(e,t){},1079:function(e,t){},1080:function(e,t){},1081:function(e,t){},1082:function(e,t){},1083:function(e,t){},1084:function(e,t){},1088:function(e,t){},124:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ImgModal=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(26),n(1088);var r=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={index:t.props.index,rotate:0,size:1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),i(n,[{key:"componentDidMount",value:function(){}},{key:"onSwitch",value:function(e){var t=this.state,n=t.index,a=(t.rotate,t.size,this.props.urls);e?n==a.length-1?n=0:n++:n<=0?n=a.length-1:n--,this.setState({index:n,rotate:0,size:1})}},{key:"onSize",value:function(e){var t=this.state.size;e?t+=.5:t=t<=.5?.5:t-.5,this.setState({size:t})}},{key:"onRotate",value:function(e){var t=this.state.rotate;e?t+=90:t-=90,this.setState({rotate:t})}},{key:"colse",value:function(){a.unmountComponentAtNode(document.getElementById("ImgModal")),document.getElementsByTagName("body")[0].removeChild(document.getElementById("ImgModal"))}},{key:"render",value:function(){var t=this,n=this.props,a=n.urls,i=void 0===a?[]:a,r=n.close,l=void 0!==r&&r,c=this.state,u=c.index,s=void 0===u?0:u,d=c.rotate,m=c.size,f=document.createElement("img");f.src=i[s];var p=f.naturalWidth?f.naturalWidth:400;f.naturalHeight&&f.naturalHeight;return console.log(p),e.createElement("div",{className:"flexbox"},e.createElement("div",{className:"imgbox"},l?e.createElement(o.default,{className:"close",onClick:function(){return t.colse()},type:"close-circle"}):null,e.createElement("div",{className:"box"},e.createElement("img",{style:{width:m*(p>500?.7*p:p)+"px",transform:"rotate("+d+"deg)"},src:i[s]})),e.createElement("div",{className:"buts"},e.createElement(o.default,{onClick:function(){return t.onSwitch(!1)},type:"left"}),e.createElement(o.default,{onClick:function(){return t.onSwitch(!0)},type:"right"}),e.createElement(o.default,{onClick:function(){return t.onSize(!0)},type:"plus"}),e.createElement(o.default,{onClick:function(){return t.onSize(!1)},type:"minus"}),e.createElement(o.default,{onClick:function(){return t.onRotate(!1)},className:"left",type:"reload"}),e.createElement(o.default,{onClick:function(){return t.onRotate(!0)},className:"right",type:"reload"})),e.createElement("div",{style:{textAlign:"center",fontSize:"12px"}},e.createElement("a",{target:"_blank",href:i[s]},"查看原图"))))}}]),n}();t.ImgModal=function(t){var n=t.bl,o=void 0!==n&&n,i=(t.urls,document.createElement("div"));i.setAttribute("id","ImgModal"),o?(document.body.appendChild(i),a.render(e.createElement(r,t),document.getElementById("ImgModal"))):(a.unmountComponentAtNode(document.getElementById("ImgModal")),document.getElementsByTagName("body")[0].removeChild(document.getElementById("ImgModal")))}}).call(this,n(1),n(12))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},812:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(45)),i=h(n(43)),r=h(n(14)),l=h(n(48)),c=h(n(109)),u=h(n(432)),s=h(n(19)),d=h(n(57)),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(42),n(18),n(47),n(105),n(431),n(20),n(56);var f=h(n(13)),p=h(n(28)),g=n(124);function h(e){return e&&e.__esModule?e:{default:e}}var y=d.default.RangePicker,v=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.getInfo=function(){f.default.get("/hcm/monitorLink/GetObj",{params:{id:o.props.match.params.id}}).then(function(e){var t=e.data.data;o.setState({itemInfo:t},function(){o.getList()})}).catch(function(e){s.default.error(e.statusText)})},o.getList=function(){var e=o.state,t=e.itemInfo,n=e.pageNo,i=e.pageSize,r=e.start_date,l=e.end_date;f.default.get("/hcm/monitorLink/GetDetailList",{params:{pageNo:n,pageSize:i,start_date:a(r).format("YYYY-MM-DD"),end_date:a(l).format("YYYY-MM-DD"),id:t.id,itemlink:t.itemlink}}).then(function(e){var t=e.data.data;o.setState({dataList:t.content,pageNo:t.pageNumber,pageSize:t.pageSize,totalNum:t.totalElements})}).catch(function(e){s.default.error(e.statusText)})},o.onRangePicker=function(e){o.setState({pageNo:1,start_date:e[0],end_date:e[1]},function(){o.getList()})},o.changePagination=function(e,t){o.setState({pageNo:e,pageSize:t},function(){o.getList()})},o.onPaginationSize=function(e,t){o.setState({pageNo:1,pageSize:t},function(){o.getList()})},o.formatColumn=function(){return[{title:"序号",dataIndex:"index",key:"index",width:"7%",render:function(e,t,n){return n+1}},{title:"更新时间",dataIndex:"monitor_time",key:"monitor_time",width:"20%",render:function(t,n,o){return e.createElement("div",{style:{whiteSpace:"nowrap"}},a(t).format("YYYY年MM月DD日 HH:mm:ss"),e.createElement(u.default,{count:n.islowprice?"低":null}))}},{title:"监控信息",dataIndex:"itemtitle",key:"itemtitle",width:"35%",render:function(t,n,a){return e.createElement("div",{style:{display:"flex"}},e.createElement(c.default,{content:e.createElement("img",{style:{width:"200px"},src:n.logopicurl}),trigger:"hover"},e.createElement("img",{style:{width:"50px",height:"50px"},src:n.logopicurl})),e.createElement("p",{style:{paddingLeft:"10px"}},t))}},{title:"价格",align:"right",dataIndex:"itemprice",key:"itemprice"},{title:"销量",align:"right",dataIndex:"salevolume",key:"salevolume"},{title:"状态",align:"right",dataIndex:"status",key:"status",render:function(t,n,a){return e.createElement("span",null,t,"上架"==t?e.createElement("img",{style:{verticalAlign:"-1px",paddingLeft:"4px"},src:"../../../img/icon/Shelf.png"}):e.createElement("img",{style:{verticalAlign:"-1px",paddingLeft:"4px"},src:"../../../img/icon/Obtained.png"}))}},{title:"低价快照",align:"right",dataIndex:"lowprice_screenshot",key:"lowprice_screenshot",render:function(t,n,a){return e.createElement("a",{disabled:!n.islowprice,onClick:function(){return(0,g.ImgModal)({bl:!0,urls:[t],index:0,close:!0})}},"查看快照")}}]},o.state={pageNo:1,pageSize:10,totalNum:0,start_date:a().subtract(7,"days"),end_date:a(),itemInfo:{},dataList:[]},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),m(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.getInfo()}},{key:"render",value:function(){var t=this,n=this.state,c=n.itemInfo,u=n.start_date,s=n.end_date,d=n.dataList,m=n.pageNo,f=n.pageSize,g=n.totalNum;return e.createElement("div",{className:"infomonitor"},e.createElement("div",{className:"Breadcrumb"},e.createElement(l.default,null,e.createElement(l.default.Item,null,e.createElement("a",{href:"/index.html#/UrlMonitor"},"单链接监控")),e.createElement(l.default.Item,null,"监控详情"))),e.createElement("div",{className:"item-info"},e.createElement("h5",null,"计划信息"),e.createElement("div",{className:"item"},e.createElement("div",{style:{paddingRight:"50px"}},e.createElement("span",null,"商品名称："),e.createElement("a",{target:"_blank",href:c.itemlink},c.itemtitle)),e.createElement("div",null,e.createElement("span",null,"限价："),c.itemprice)),e.createElement("div",{style:{fontSize:"14px",color:"#666"}},e.createElement("span",{style:{color:"#333"}},"店铺："),e.createElement("span",null,c.shopname," "),e.createElement("span",{style:{padding:"0px 10px"}},c.dealer_id&&c.dealer_id>0?"已授权":null),"天猫"==c.platform?e.createElement("img",{style:{verticalAlign:"bottom",paddingRight:"10px"},src:"../../../img/icon/Tmall.png"}):e.createElement("img",{style:{verticalAlign:"bottom",paddingRight:"10px"},src:"../../../img/icon/Taobao.png"}))),e.createElement("div",{className:"content"},e.createElement("div",{className:"buts"},e.createElement(r.default,{href:"/hcm/monitorLink/downLoad?start_date="+a(u).format("YYYY-MM-DD")+"&end_date="+a(s).format("YYYY-MM-DD")+"&id="+c.id+"&itemlink="+c.itemlink},"下载数据"),e.createElement(y,{allowClear:!1,onChange:function(e){return t.onRangePicker(e)},value:[u,s]})),e.createElement("div",{className:"content-tab"},e.createElement(i.default,{rowKey:"id",pagination:!1,columns:this.formatColumn(),dataSource:d}),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+g+" 条记录 ","  ","第  "+m+"  / "+Math.ceil(g/f)+" 页"),e.createElement(o.default,{pageSize:f,current:m,total:g,onChange:this.changePagination,onShowSizeChange:this.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0})))),e.createElement(p.default,{clazzName:"copyright"}))}}]),n}();t.default=v}).call(this,n(1),n(10))}}]);