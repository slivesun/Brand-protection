(window.webpackJsonp=window.webpackJsonp||[]).push([[121,122],{1085:function(e,t){},1086:function(e,t){},1096:function(e,t){},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},555:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(14)),r=u(n(11)),l=u(n(91));n(18),n(26),n(90);var c=u(n(15)),i=u(n(28)),o=u(n(10)),s=u(n(718));function u(e){return e&&e.__esModule?e:{default:e}}var m=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],p=1,d={APPLYING:1,APPROVED:0,DISAGREE:2,CUSTOM:3},f=0,h=(0,c.default)(function(t){var n=t.props.currentBrand,c=n.apply_status,u=void 0===c?"APPROVED":c,h=n.status,E=void 0===h?1:h,y=n.Bmcstatus,b=t.state,g=b.selectDateIndex,v=b.isExpandShop,w=b.sevenActivity,_=b.shopBtnList,N=b.noticeList,P=b.productList,S=b.binding,C=b.userId,k=function(n){var a=n.title,r=n.flag,c=n.list,i=a+"（"+(c.length||0)+"）";return"change"===r&&(i=e.createElement("div",{onClick:t.goTo.bind(t,"/PricePublicity/ChangeHistory/Product"),style:{cursor:"pointer"}},a,"（",c.length||0,"）")),e.createElement(l.default,{title:i,className:"bulletin"},c.map(function(n,a){var l="",c="",i=0,s="";return"notice"===r&&(l=n.notice_title,c=n.notice_typename,i=n.createtime,s="/InfoAnnouncement/"+n.id),"change"===r&&(l=n.content_after,c=n.product_classify_name,i=n.changetime,s="/PricePublicity/ChangeHistory/HcmProductClassify/"+c+"/"+n.objectid),e.createElement("div",{className:"common-panel-item",key:a,onClick:t.goTo.bind(t,s)},e.createElement("h3",null,l),e.createElement("p",null,e.createElement("span",null,c),e.createElement("span",null,(0,o.default)(i).format("YYYY-MM-DD HH:mm:ss"))))}))},O=e.createElement("div",{className:"content"},C?e.createElement(s.default,{userId:C,binding:S}):null,e.createElement("section",{className:"apply-activity",onClick:t.goTo.bind(t,"/ActivityDeclaration")},e.createElement("span",null,e.createElement(r.default,{type:"plus"})," 申报活动")),e.createElement("section",{className:"publicity"},e.createElement("h3",null,"品牌活动公示"),function(n){return e.createElement("div",{className:"date-card-wrapper"},n.map(function(n,a){return e.createElement("div",{className:g===a?"date-item active":"date-item",key:a,onClick:t.handleDateClick.bind(t,a,(0,o.default)(n.my_date).format("YYYY-MM-DD"))},e.createElement("p",null,e.createElement("span",null,m[(0,o.default)(n.my_date).day()],0===g&&0===a?e.createElement("span",{className:"today"},"今日"):null),e.createElement("span",{className:"day"},(0,o.default)(n.my_date).format("DD"))),e.createElement("p",null,0===a?"进行中":"已审核","活动（",n.all_count,"）"))}))}(w),e.createElement("div",{className:"shop-btn-wrapper"},e.createElement("h3",null,e.createElement("span",null,"活动店铺（",_.length||0,"）"),e.createElement("span",{onClick:t.handleToggleClick},v?"收起":"展开","更多 ",v?e.createElement(r.default,{type:"up"}):e.createElement(r.default,{type:"down"}))),v?e.createElement("div",{className:"btns-wrapper"},_.map(function(t,n){return e.createElement(a.default,{className:"btn",key:n},t.shop_name,"（",t.act_count,"）")})):null)),e.createElement("section",{className:"bulletin-wrapper"},k({title:"价格公示变更",flag:"change",list:P}),k({title:"新通知公告",flag:"notice",list:N}))),D=function(n){return e.createElement("div",{className:"content"},e.createElement("section",{className:"unapproved-wrapper"},e.createElement("div",{className:"main"},1===n?e.createElement(e.Fragment,null,e.createElement("p",{className:"icon"},e.createElement(r.default,{type:"exclamation-circle"})),e.createElement("p",{className:"status"},"入驻申请，正在审核中..."),e.createElement("p",null,"你通过其他方式联系品牌方审核人，尽快同意入驻申请。"),e.createElement("p",null,"审核通过后，我们会以短信形式通知到你的注册手机。")):2===n?e.createElement(e.Fragment,null,e.createElement("p",{className:"fail-icon"},e.createElement(r.default,{type:"close-circle"})),e.createElement("p",{className:"fail-status"},"品牌方拒绝了你的入驻申请"),e.createElement("div",{className:"reason"},e.createElement("h5",null,"审核未通过原因可能是："),e.createElement("ol",null,e.createElement("li",null,"1、完善的信息不完整或不正确，品牌方未能使做出正确识别。"),e.createElement("li",null,"2、不是品牌方登记在册的授权经销商。品牌方拒绝了你的入驻申请"))),e.createElement("div",{className:"resolution"},e.createElement("h5",null,"解决方法"),e.createElement("ol",null,e.createElement("li",null,"1、可以通过其有效途径联系品牌方审核人。"),e.createElement("li",null,"2、可以通过修改个人中心资料，再次提交申请。")),e.createElement("div",{className:"btns",style:{display:"flex",justifyContent:"space-around",marginTop:"20px"}},e.createElement(a.default,{onClick:function(){t.props.history.push("/DataInformation")}},"修改资料信息"),e.createElement(a.default,{type:"primary",onClick:t.reSubmitApply},"重新提交申请")))):3===n?e.createElement(e.Fragment,null,e.createElement("p",{className:"icon"},e.createElement(r.default,{type:"exclamation-circle"})),e.createElement("p",{className:"status"},"你未拥有授权品牌方"),e.createElement("p",{className:"no-brand-title"},"说明："),e.createElement("p",{className:"no-brand"},"你还未拥有授权品牌方，或之前合作的品牌方与你解除了合作关系"),e.createElement("p",{className:"no-brand-title"},"解决方案："),e.createElement("p",{className:"no-brand"},"你可以通过联系品牌方相关人员重新入驻")):e.createElement(e.Fragment,null,e.createElement("p",{className:"icon"},e.createElement(r.default,{type:"exclamation-circle"})),e.createElement("p",{className:"status"},"品牌方账号暂时停用"),e.createElement("p",{className:"brand-stop"},"说明：品牌方账号因过有效使用期被停用，可以通过续期再次启用。")))))},x=e.createElement("div",{className:"content"},e.createElement("section",{className:"stop-status-wrapper"},e.createElement("div",{className:"stop-main"},e.createElement("p",null,e.createElement(r.default,{type:"exclamation-circle",className:"icon"}),e.createElement("span",null,"品牌方授权合作合同到期")),e.createElement("p",null,"说明：你与品牌方授权合作合同已到期，请联系品牌方人员续期。"))));return e.createElement("div",{className:"home"},y===f?D("brand"):0===d[u]?E===p?O:x:D(d[u]),e.createElement(i.default,{clazzName:"copyright"}))});t.default=h}).call(this,n(1))},718:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(14)),r=i(n(19)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(18),n(20);var c=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}n(1096);var o=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.getData=function(){var e="";e="DEALER"===window.localStorage.getItem("logintype")?"/hcm/Index/dealerIndex":"/hcm/Index/bmaincustomerIndex",c.default.get(e).then(function(e){"10000"===e.data.status&&(t.setState({isBinding:e.data.data.binding}),e.data.data.binding&&clearInterval(t.timer))}).catch(function(e){r.default.error("系统繁忙，请稍后再试！")})},t.getQrcode=function(){c.default.post("/hcm/wechat/getQRcode",{userid:t.props.userId,usertype:"c"}).then(function(e){var n=e.data,a=n.data,l=n.message;"10000"===n.status?t.setState({qrCodeUrl:"https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket="+a}):r.default.error(l)}).catch(function(e){r.default.error("网络繁忙，请稍后再试！")})},t.handleClickFn=function(){window.sessionStorage.setItem("wechatModalStatus","123"),t.setState({show:!1}),clearInterval(t.timer)},t.state={show:!0,isBinding:e.binding,qrCodeUrl:""},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),l(n,[{key:"componentWillMount",value:function(){window.sessionStorage.getItem("wechatModalStatus")||this.state.isBinding||(this.getQrcode(),this.timer=setInterval(this.getData,5e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var t=this.state,n=t.isBinding,r=t.show,l=t.qrCodeUrl;return n||!r||window.sessionStorage.getItem("wechatModalStatus")?null:e.createElement("div",{className:"out-wrapper"},e.createElement("div",{className:"mask"}),e.createElement("div",{className:"wechat-bind-wrapper"},e.createElement("div",{className:"qrcode"},e.createElement("img",{src:l,alt:"二维码"})),e.createElement("h6",null,"关注微信公众号，绑定微信"),e.createElement("p",{className:"text"},"关注后："),e.createElement("p",{className:"text"},"1、你可以便捷接收业务提醒，查看业务消息。"),e.createElement("p",{className:"text"},"2、你可以在登录时使用微信扫码登录。"),e.createElement(a.default,{className:"btn",onClick:this.handleClickFn},"稍后绑定")))}}]),n}();t.default=o}).call(this,n(1))},825:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,r=p(n(19)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(20);var c=p(n(555)),i=p(n(13)),o=n(170),s=n(128),u=p(n(10)),m=n(387);function p(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.connect)(function(e,t){return{currentBrand:e.dealer.currentBrand}},function(e,t){return(0,o.bindActionCreators)({getBrandList:m.getBrandList},e)})(a=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.reSubmitApply=function(){(0,i.default)({method:"post",url:"/hcm/dealer/reSubmitApplying"}).then(function(e){var n=e.data,a=(n.data,n.status),l=n.message;"10000"===a&&(r.default.success(l),t.props.getBrandList())}).catch()},t.handleDateClick=function(e,n){t.setState({selectDateIndex:e,currentDate:n}),t.getBrandActivityPublicShop(n)},t.handleToggleClick=function(){t.setState({isExpandShop:!t.state.isExpandShop})},t.getList=function(){(0,i.default)({method:"post",url:"/hcm/Index/dealerIndex"}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({productList:a.productList,noticeList:a.noticeList,binding:a.binding,userId:a.userid})}).catch()},t.getBrandActivityPublicShop=function(e){(0,i.default)({method:"post",url:"/hcm/campgign/PublicShops",data:{campaign_node:"已审核",type:(0,u.default)().format("YYYY-MM-DD")===e?1:2,ser_day:e}}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({shopBtnList:a})}).catch()},t.getBrandActivityPublicDate=function(){(0,i.default)({method:"post",url:"/hcm/campgign/ScheduleBMCSeven"}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({sevenActivity:a})}).catch()},t.goTo=function(e){t.props.history.push({pathname:e})},t.state={dataList:[],selectDateIndex:0,isExpandShop:!0,selectShopIndex:-1,sevenActivity:[],shopBtnList:[],currentDate:(0,u.default)().format("YYYY-MM-DD"),productList:[],noticeList:[],binding:null,userId:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),l(n,[{key:"componentWillMount",value:function(){this.getBrandActivityPublicDate(),this.getBrandActivityPublicShop(this.state.currentDate),this.getList()}},{key:"render",value:function(){return e.createElement(c.default,{that:this})}}]),n}())||a;t.default=d}).call(this,n(1))}}]);