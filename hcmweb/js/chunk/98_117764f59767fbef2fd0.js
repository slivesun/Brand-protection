(window.webpackJsonp=window.webpackJsonp||[]).push([[98,99],{1075:function(e,t){},1076:function(e,t){},1077:function(e,t){},1078:function(e,t){},1079:function(e,t){},1080:function(e,t){},1081:function(e,t){},1087:function(e,t){},1089:function(e,t){},123:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.AddIcon=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,n=t.style,a=t.className;return e.createElement("img",{className:a,style:n,src:"../../../../img/icon/add2.png"})}}]),a}()}).call(this,n(1))},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(48));n(47);var i=r(n(28));function r(e){return e&&e.__esModule?e:{default:e}}n(1075);var l=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,i){return""===t.linkList[i]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[i])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(i.default,null)))};l.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=l}).call(this,n(1))},544:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(38)),i=p(n(45)),r=p(n(43)),l=p(n(92)),c=p(n(14)),o=p(n(25)),s=p(n(11)),u=p(n(30));n(37),n(51),n(42),n(93),n(18),n(24),n(26),n(32);var m=p(n(15)),f=p(n(29)),d=n(123);p(n(28));function p(e){return e&&e.__esModule?e:{default:e}}u.default.Option;var h=(0,m.default)(function(t){var n=t.state,a=n.pageNo,u=n.pageSize,m=n.totalNum,p=n.itemlink,h=n.shop_name,E=n.selectedRowKeys,y=n.checkAll,v=n.dataList,b={selectedRowKeys:E,onChange:function(e,n){return t.onTableCheckChange(e,n)}},k={width:"14px",height:"14px",opacity:.25,cursor:"pointer"},N=function(n){return t.state[n]&&t.state[n].length?e.createElement(s.default,{type:"close-circle",onClick:function(){return t.handleClearIconClick(n)},style:k}):null};return e.createElement(f.default,{breadcrumbList:["单链接监控"],linkList:[""]},e.createElement("div",{className:"urlmonitor"},e.createElement("div",{className:"search-box"},e.createElement("div",{className:"input-box"},e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"监控链接:"),e.createElement(o.default,{onChange:function(e){return t.chSearchIpt(e,"itemlink")},value:p,suffix:N("itemlink"),className:"ipt"})),e.createElement("div",{className:"item"},e.createElement("span",{className:"lab"},"店铺名称:"),e.createElement(o.default,{onChange:function(e){return t.chSearchIpt(e,"shop_name")},value:h,suffix:N("shop_name"),className:"ipt"})),e.createElement("div",{className:"item"},e.createElement(c.default,{className:"btn6",onClick:function(e){return t.onSearch()}},"查询")))),e.createElement("div",{className:"content"},e.createElement("div",{className:"buts"},e.createElement("div",null,e.createElement("a",{href:"/index.html#/AddMonitor"},e.createElement(c.default,{className:"btn1-main",style:{color:"#fff"}},e.createElement(d.AddIcon,{style:{paddingRight:"8px"}}),"新增")),e.createElement(c.default,{className:"btn1-sub",onClick:function(e){return t.rmAll()}},"批量删除")),e.createElement("a",{href:"/index.html#/ChangeHistoryx/MonitorLink_Delete"},e.createElement(c.default,{className:"btn1-sub"},"变更历史"))),e.createElement("div",{style:{padding:"21px 0px 11px 0px",flexShrink:0}},e.createElement(l.default,{message:e.createElement("div",null,"共 ",e.createElement("a",null,m)," 项，已选择 ",e.createElement("a",null,y?m:E.length)," 项 ",e.createElement("a",{onClick:function(){return t.checkAll(!0)}},"勾选全部"),"/",e.createElement("a",{onClick:function(){return t.checkAll(!1)}},"取消勾选")),type:"info",showIcon:!0})),e.createElement("div",{className:"content-tab"},e.createElement(r.default,{rowKey:"id",pagination:!1,rowSelection:b,columns:t.formatColumn(),dataSource:v}),e.createElement("div",{className:"footer"},e.createElement("div",{className:"info"},"共 "+m+" 条记录 ","  ","第  "+a+"  / "+Math.ceil(m/u)+" 页"),e.createElement(i.default,{pageSize:u,current:a,total:m,onChange:t.changePagination,onShowSizeChange:t.onPaginationSize,showSizeChanger:!0,showQuickJumper:!0})))),e.createElement(g,{that:t})))});t.default=h;var g=(0,m.default)(function(t){var n=t.state,i=n.editItemStatus,r=n.targetEdit;return e.createElement(a.default,{title:"编辑",visible:i,maskClosable:!1,onCancel:function(e){return t.editItemStatus(!1)},onOk:function(){return t.editItemSubmit()},okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"}},e.createElement("div",{className:"edit-item-box"},e.createElement("div",{className:"item"},e.createElement("span",{className:"title red"},"限价:"),e.createElement("p",null,e.createElement(o.default,{onChange:function(e){return t.onEditItem(e)},value:r.itemprice})))))})}).call(this,n(1))},813:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(19)),i=f(n(126)),r=f(n(127)),l=f(n(101)),c=f(n(432)),o=f(n(38)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(20),n(167),n(166),n(102),n(431),n(37);var u=f(n(544)),m=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var d=o.default.confirm,p=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.onEditItem=function(e){var t=o.state.targetEdit;isNaN(+e.target.value)||(t.itemprice=e.target.value,o.setState({targetEdit:t}))},o.onTableCheckChange=function(e,t){var n=new Set(e);o.setState({selectedRowKeys:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)),checkAll:!1})},o.changePagination=function(e,t){o.setState({pageNo:e,pageSize:t},function(){o.getList()})},o.onPaginationSize=function(e,t){o.setState({pageNo:1,pageSize:t},function(){o.getList()})},o.formatColumn=function(){return[{title:"序号",dataIndex:"index",key:"index",render:function(t,n,a){return e.createElement(c.default,{count:n.islowprice?"低":null}," ",a+1)}},{title:"监控信息",dataIndex:"itemtitle",key:"itemtitle",render:function(t,n,a){return e.createElement(e.Fragment,null,e.createElement("p",{style:{maxWidth:"500px"}},t),e.createElement("p",{style:{width:"500px"}},e.createElement("a",{target:"_blank",href:n.itemlink},n.itemlink)))}},{title:"店铺名称",dataIndex:"shopname",key:"shopname",render:function(t,n,a){return e.createElement(e.Fragment,null,e.createElement("p",{style:{padding:"10px 0px 0px"}},t),e.createElement("p",{style:{padding:"5px 0px"}},"天猫"==n.platform?e.createElement("img",{style:{verticalAlign:"bottom",paddingRight:"10px"},src:"../../../img/icon/Tmall.png"}):e.createElement("img",{style:{verticalAlign:"bottom",paddingRight:"10px"},src:"../../../img/icon/Taobao.png"}),n.dealer_id&&n.dealer_id>0?e.createElement("img",{style:{verticalAlign:"middle"},width:"52",height:"15",src:"../../../../img/Authorized.png"}):null))}},{title:"限价",dataIndex:"itemprice",key:"itemprice",render:function(e,t,n){return e}},{title:"状态",dataIndex:"status",key:"status",render:function(t,n,a){return e.createElement("span",null,t,"上架"==t?e.createElement("img",{style:{verticalAlign:"-1px",paddingLeft:"4px"},src:"../../../img/icon/Shelf.png"}):e.createElement("img",{style:{verticalAlign:"-1px",paddingLeft:"4px"},src:"../../../img/icon/Obtained.png"}))}},{title:"操作",dataIndex:"id",key:"id",align:"right",render:function(t,n,a){return e.createElement("div",null,e.createElement("a",{href:"/index.html#/InfoMonitor/"+n.id},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"4px"},src:"../../../img/icon/icon_operating_Details.png"}),"详情"),e.createElement(l.default,{type:"vertical"}),e.createElement(i.default,{overlay:e.createElement(r.default,null,e.createElement(r.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){return o.ChangeHis(n)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"4px"},src:"../../../img/icon/icon_operating_history.png"}),"变更历史")),e.createElement(r.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){return o.editItemStatus(!0,n)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"4px"},src:"../../../img/icon/icon_operating_edit.png"}),"编辑")),e.createElement(r.default.Item,null,e.createElement("a",{className:"A-COLOR",onClick:function(e){return o.rmItem(n)}},e.createElement("img",{style:{verticalAlign:"text-bottom",paddingRight:"4px"},src:"../../../img/icon/icon_operating_del.png"}),"删除")))},e.createElement("a",null,"··· 更多")))}}]},o.editItemStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.setState({editItemStatus:e,targetEdit:Object.assign({},t)})},o.ChangeHis=function(e){window.location="/index.html#/ChangeHistoryx/MonitorLink/"+e.shopname+"/"+e.itemid},o.editItemSubmit=function(){var e=o.state.targetEdit;0!=e.itemprice.length?m.default.post("/hcm/monitorLink/Edit",{id:e.id,itemprice:e.itemprice}).then(function(e){"10000"==e.data.status?(o.getList(),o.editItemStatus(!1),a.default.success(e.data.message)):a.default.error(e.data.message)}).catch(function(e){a.default.error(e.statusText)}):a.default.error("限价不能为空")},o.checkAll=function(e){var t=o.state.selectedRowKeys;e?o.state.dataList.forEach(function(e,n){t.push(e.id)}):t=[],o.setState({checkAll:e,selectedRowKeys:t})},o.rmAll=function(){var t=o.state,n=t.selectedRowKeys,i=t.checkAll,r=t.totalNum;if(0!=n.length){var l=o.state.oldSearch,c=l.itemlink,s=l.shop_name,u=o,f={ids:i?"checkAll":n.join(","),itemlink:i?c:"",shop_name:i?s:""};d({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要删除勾选的 ",i?r:n.length," 项监控信息吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"相关的低价记录将会被删除"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onOk:function(){m.default.post("/hcm/monitorLink/DeleteBatch",f).then(function(e){"10000"==e.data.status&&(u.onSearch(!0),a.default.success(e.data.message))}).catch(function(e){a.default.error(e.statusText)})}})}else a.default.error("至少选择一条")},o.rmItem=function(t){var n=o;d({title:null,content:e.createElement("div",null,e.createElement("div",{className:"tips"},"提示"),e.createElement("div",{className:"pline"}),e.createElement("p",{className:"Dtitle"},"你确认要删除该监控信息吗？"),e.createElement("p",null,"删除后",e.createElement("span",{className:"red"},"相关的低价记录将会被删除"))),okText:"确定",cancelText:"取消",className:"alert-item-confirm",okButtonProps:{className:"btn2-main"},cancelButtonProps:{className:"btn2-sub"},onOk:function(){m.default.post("/hcm/monitorLink/Delete",{id:t.id,itemlink:t.itemlink,shopname:t.shopname,itemprice:t.itemprice}).then(function(e){"10000"==e.data.status?(n.getList(),a.default.success(e.data.message)):a.default.error(e.data.message)}).catch(function(e){a.default.error(e.statusText)})}})},o.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.setState({pageNo:1,itemlink:e?null:o.state.itemlink,shop_name:e?null:o.state.shop_name,oldSearch:{itemlink:e?null:o.state.itemlink,shop_name:e?null:o.state.shop_name}},function(){o.getList()})},o.getList=function(){var e=o.state,t=e.pageNo,n=e.pageSize,i=e.itemlink,r=e.shop_name;m.default.get("/hcm/monitorLink/GetList",{params:{pageNo:t,pageSize:n,itemlink:i,shop_name:r}}).then(function(e){var t=e.data.data;o.setState({pageNo:t.pageNumber,pageSize:t.pageSize,totalNum:t.totalElements,dataList:t.content,selectedRowKeys:[]})}).catch(function(e){a.default.error(e.statusText)})},o.chSearchIpt=function(e,t){var n=o.state;e&&e.target&&"INPUT"==e.target.nodeName?n[t]=e.target.value:n[t]=e,o.setState(n)},o.handleClearIconClick=function(e){var t=o.state;t[e]=null,o.setState(t)},o.state={pageNo:1,pageSize:10,checkAll:!1,totalNum:0,itemlink:null,shop_name:null,oldSearch:{itemlink:null,shop_name:null},dataList:[],selectedRowKeys:[],targetEdit:{},editItemStatus:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),s(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){return e.createElement(u.default,{that:this})}}]),n}();t.default=p}).call(this,n(1))}}]);