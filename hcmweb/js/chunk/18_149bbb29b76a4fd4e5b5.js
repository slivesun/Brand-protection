(window.webpackJsonp=window.webpackJsonp||[]).push([[18,19],{1075:function(e,t){},1076:function(e,t){},1090:function(e,t){},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(t){function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e.Component),n(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),r}();t.default=r}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(48));n(47);var a=o(n(28));function o(e){return e&&e.__esModule?e:{default:e}}n(1075);var l=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(r.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,a){return""===t.linkList[a]?e.createElement(r.default.Item,{key:n},n):e.createElement(r.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[a])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(a.default,null)))};l.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=l}).call(this,n(1))},508:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(14)),a=p(n(11)),o=p(n(40)),l=p(n(220)),i=p(n(35)),u=p(n(25)),c=p(n(30)),s=p(n(23)),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(18),n(26),n(49),n(219),n(50),n(24),n(32),n(22);var f=p(n(15)),m=p(n(29));function p(e){return e&&e.__esModule?e:{default:e}}var h=s.default.Item,y=c.default.Option,g=function(t){return t.list.map(function(n,r){return e.createElement(o.default,{key:n._id,style:{position:"relative",marginBottom:"20px"}},e.createElement(i.default,{span:11},e.createElement(u.default,{value:n.name,onChange:function(e){t.inputChange("name",r,e)},placeholder:"关键词"})),e.createElement(i.default,{span:2,style:{textAlign:"center"}},e.createElement("span",null,"--")),e.createElement(i.default,{span:11},e.createElement(l.default,{value:n.value,maxLength:"8",onChange:function(e){t.inputChange("value",r,e)},style:{width:"100%"},placeholder:"限价"})),e.createElement("img",{onClick:function(){t.delete(r)},style:{position:"absolute",right:"-25px",top:"12px",cursor:"pointer"},src:"../../../img/icon_Cut off_normal.png",alt:""}))})},b=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],v=(0,f.default)(function(t){var n=t.state,l=n.keywordList,u=n.monitorTime,f=n.isDisabledMonitorTime,p=t.props.form.getFieldDecorator,v={labelCol:{sm:{span:4}},wrapperCol:{sm:{span:8}}};return e.createElement(m.default,{breadcrumbList:["关键词监控","新增"],linkList:["1",""],history:t.props.history},e.createElement(s.default,{id:"add-keyword-monitor-wrapper",onSubmit:t.handleSubmit},e.createElement(h,d({label:"平台"},v),p("platform",{rules:[{required:!0,message:"请选择平台"}]})(e.createElement(c.default,{placeholder:"请选择",getPopupContainer:function(e){return e.parentNode}},e.createElement(y,{value:"淘宝天猫"},"淘宝天猫"),e.createElement(y,{value:"1688网"},"1688网"),e.createElement(y,{value:"闲鱼"},"闲鱼"),e.createElement(y,{value:"拼多多"},"拼多多"),e.createElement(y,{value:"京东商城"},"京东商城"),e.createElement(y,{value:"苏宁易购"},"苏宁易购"),e.createElement(y,{value:"当当网"},"当当网"),e.createElement(y,{value:"唯品会"},"唯品会")))),e.createElement(h,d({label:"监控范围"},v),p("monitorRange",{initialValue:"全部店铺",rules:[{required:!0,message:"请选择监控范围"}]})(e.createElement(c.default,{placeholder:"请选择",getPopupContainer:function(e){return e.parentNode}},e.createElement(y,{value:"全部店铺"},"全部店铺")))),e.createElement(h,d({label:"监控频次"},v),p("monitorRate",{rules:[{required:!0,message:"请选择监控频次"}]})(e.createElement(c.default,{placeholder:"请选择",getPopupContainer:function(e){return e.parentNode}},e.createElement(y,{value:"1"},"1次/天"),e.createElement(y,{value:"2"},"2次/天"),e.createElement(y,{value:"3",disabled:!0},"3次/天"),e.createElement(y,{value:"4",disabled:!0},"4次/天")))),e.createElement(h,d({label:"监控时间"},v),p("monitorTime",{rules:[{required:!0,message:"请选择监控时间"}]})(e.createElement(c.default,{mode:"multiple",placeholder:"请选择",onChange:t.handleSelectTimeChange,onFocus:t.handleSelectFocus,getPopupContainer:function(e){return e.parentNode}},b.map(function(t){return e.createElement(y,{disabled:!u.includes(t)&&f,key:t,value:t},t)})))),e.createElement(o.default,null,e.createElement(i.default,{offset:4,span:12},e.createElement("p",{style:{marginBottom:"20px",color:"#FAAD14",width:"310px",background:"rgba(250,173,20,0.05)"}}," ",e.createElement("img",{src:"../../../img/laba.png",style:{marginLeft:"5px",marginRight:"5px"},alt:""}),e.createElement("b",null,"小提示：监控关键词仅支持本品牌商品关键词")))),e.createElement(h,d({label:e.createElement("span",null,e.createElement("i",{style:{color:"#f00",marginRight:"5px"}},"*"),"关键词")},v),p("keywords")(e.createElement(e.Fragment,null,e.createElement(g,{list:l,inputChange:t.handleInputChange,delete:t.handleDeleteKeyword}),e.createElement("div",{className:"add-keyword",onClick:t.handleAddKeyword},e.createElement(a.default,{type:"plus",theme:"outlined"}))))),e.createElement(h,{wrapperCol:{span:10,offset:4}},e.createElement(r.default,{className:"btn2-main",type:"primary",htmlType:"submit"},"确认"),"     ",e.createElement(r.default,{onClick:t.handleReset},"取消"))))});t.default=v}).call(this,n(1))},768:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(23)),a=u(n(19)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(22),n(20);var l=u(n(508)),i=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleSelectFocus=function(e){var n=t.props.form,r=(n.getFieldValue,n.validateFields),a=t.state.monitorTime;r(["monitorRate"],function(e,n){if(e)t.setState({isDisabledMonitorTime:!0});else{var r=parseInt(n.monitorRate,10);a.length>r||a.length==r?t.setState({isDisabledMonitorTime:!0}):t.setState({isDisabledMonitorTime:!1})}})},t.handleSelectTimeChange=function(e){var n=t.props.form;n.getFieldValue;(0,n.validateFields)(["monitorRate"],function(n,r){if(!n){var a=parseInt(r.monitorRate,10);e.length>=a?t.setState({isDisabledMonitorTime:!0}):t.setState({isDisabledMonitorTime:!1}),t.setState({monitorTime:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))})}})},t.handleInputChange=function(e,n,r){var o=JSON.parse(JSON.stringify(t.state.keywordList));"name"===e&&r.target.value.length>50?a.default.warning("超出50个字符限制！"):"value"===e&&isNaN(Number(r))?a.default.warning("请输入数字！"):(o[n][e]="value"===e?r:r.target.value,t.setState({keywordList:o}))},t.handleDeleteKeyword=function(e){var n=JSON.parse(JSON.stringify(t.state.keywordList));1!==n.length?(n.splice(e,1),t.setState({keywordList:n})):a.default.warning("请至少保留一个关键字！")},t.handleAddKeyword=function(){var e=JSON.parse(JSON.stringify(t.state.keywordList));e.push({_id:e[e.length-1]._id+1}),t.setState({keywordList:e})},t.checkKeyword=function(){return t.state.keywordList.every(function(e){return!!e.name&&!!e.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,n){if(!e){if(!t.checkKeyword())return void a.default.warning("请完善关键字信息！");var r=t.state.keywordList;if(n.monitorTime.length!==parseInt(n.monitorRate,10))return void a.default.warning("必须选择"+n.monitorRate+"个时间!");var o={platform:n.platform,plarform_code:n.platform,key_range:n.monitorRange,frequency:n.monitorRate,key_times:n.monitorTime.join(","),keywordModelList:r.map(function(e){return Object.assign({},{fielda:e.name,fieldb:e.value})})};LoadingModal({bl:!0}),(0,i.default)({method:"post",url:"/hcm/keyword/add",transformRequest:[function(e,t){return e}],headers:{"Content-Type":"application/json;charset=utf-8"},data:JSON.stringify(o)}).then(function(e){LoadingModal({bl:!1});var n=e.data,r=(n.data,n.status),o=n.message;"10000"===r?(a.default.success(o),t.props.form.resetFields(),t.setState({keywordList:[{_id:0}],isDisabledMonitorTime:!1,monitorTime:[]})):a.default.error(o)}).catch(function(e){LoadingModal({bl:!1}),a.default.error("系统繁忙，请稍后再试！")})}})},t.handleReset=function(){t.props.history.push("/keywordMonitor")},t.state={keywordList:[{_id:0}],monitorTime:[],isDisabledMonitorTime:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),o(n,[{key:"render",value:function(){return e.createElement(l.default,{that:this})}}]),n}();t.default=r.default.create()(c)}).call(this,n(1))}}]);