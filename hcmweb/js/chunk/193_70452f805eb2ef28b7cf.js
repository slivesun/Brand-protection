(window.webpackJsonp=window.webpackJsonp||[]).push([[193,194],{1116:function(e,t){},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(499)),a=o(n(500));function o(e){return e&&e.__esModule?e:{default:e}}r.default.defaults.timeout=6e5,r.default.defaults.transformRequest=function(e){return e instanceof FormData?e:e=a.default.stringify(e)},r.default.interceptors.request.use(function(e){return e.headers["X-Requested-With"]="XMLHttpRequest",e},function(e){return Promise.reject(e.response)}),r.default.interceptors.response.use(function(e){return e},function(e){return"503"==e.response.status?void("ADMIN"==localStorage.logintype||"KEFU"==localStorage.logintype?window.location="/user.html#/loginu":window.location="/user.html#/loginc"):Promise.reject(e.response)}),t.default=r.default},15:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(t){return function(r){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"render",value:function(){return e.createElement(t,this.props.that)}}]),a}()}}).call(this,n(1))},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(720);t.default={Encrypt:function(e){var t=r.enc.Utf8.parse("hcmabcdefghijklm"),n=r.enc.Utf8.parse(e);return r.AES.encrypt(n,t,{mode:r.mode.ECB,padding:r.pad.Pkcs7}).toString()},Decrypt:function(e){var t=r.enc.Utf8.parse("hcmabcdefghijklm"),n=r.AES.decrypt(e,t,{mode:r.mode.ECB,padding:r.pad.Pkcs7});return r.enc.Utf8.stringify(n).toString()}}},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(t){function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e.Component),n(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),r}();t.default=r}).call(this,n(1))},429:function(e,t){},498:function(e,t){},502:function(e,t){},589:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(74)),a=p(n(188)),o=p(n(14)),s=p(n(25)),c=p(n(428)),l=p(n(757)),u=p(n(23));n(94),n(346),n(18),n(24),n(425),n(755),n(22);var i=p(n(15)),f=p(n(28));function p(e){return e&&e.__esModule?e:{default:e}}var m=u.default.Item,d=l.default.Header,y=c.default.Step,g=(0,i.default)(function(t){t.props.match;var n=t.props.form.getFieldDecorator,i=t.state.yzm,p=(t.state.shows,{display:t.state.forgetxs?" block ":"none"}),g=t.state.NOphone?" block ":"none",h={display:g},v={display:g,marginLeft:"-35px"},E={display:t.state.NOphones?"none ":"block"},b=(t.state.NODl,{display:t.state.AqPercent?" block ":"none"}),w={color:t.state.forgetmmClock},N=[{title:"填写账号",content:e.createElement("div",{className:"forget-form"},e.createElement("div",{className:"userTS",style:p}," ",e.createElement("img",{src:"../../../img/icon_Login_failure.png"})," 用户名不存在"),e.createElement("br",null),e.createElement("br",null),e.createElement("div",{className:"FORMtit"},"用户名"),e.createElement(m,{className:"tops"},n("userName")(e.createElement(s.default,{className:"user-name",maxLength:"32",placeholder:"用户名/手机号"})))),text:"请填写你要找回密码的账号"},{title:"身份认证",content:e.createElement("div",{className:"forget-form",style:E},e.createElement("div",{className:"userTS",style:p}," ",e.createElement("img",{src:"../../../img/icon_Login_failure.png"})," 验证码有误，请重新获取。"),e.createElement("br",null),e.createElement("br",null),e.createElement("div",{className:"FORMtit"},"手机号"),e.createElement(m,{className:"tops"},e.createElement("p",null,t.state.Pone)),e.createElement("div",{className:"FORMtit"},"验证码"),e.createElement("div",{className:"ant-row ant-form-item tops"},e.createElement(m,{className:"topsxs"},n("yzm")(e.createElement(s.default,{className:"user-yzm",maxLength:"6",placeholder:"输入验证码"}))),e.createElement(o.default,{className:"get-code",onClick:function(){return t.getAuthCode()}},i))),text:"我需要验证一下你是不是自己人",NOphone:e.createElement("div",{className:"NOponetit",style:h},e.createElement("img",{src:"../../../img/icon_Login_failure.png"}),e.createElement("p",null,"当前账号下未绑定手机号，暂不能找回密码！"))},{title:"设置新密码",content:e.createElement("div",{className:"forget-form",style:E},e.createElement("div",{className:"userTS",style:p},e.createElement("img",{src:"../../../img/icon_Login_failure.png"})," 两次输入的密码不同，请重新输入。"),e.createElement("br",null),e.createElement("br",null),e.createElement("div",{className:"FORMtit"},"新密码"),e.createElement(m,{className:"tops"},n("pws")(e.createElement(s.default,{className:"user-name",type:"password",placeholder:"请输入新密码",onBlur:function(){return t.onBlur()}}))),e.createElement("div",{className:"FORMtits"},"确认新密码"),e.createElement(m,{className:"tops"},n("spws")(e.createElement(s.default,{className:"user-name",type:"password",placeholder:"请确认新密码"})))),text:"现在你可以填写你的新密码了"},{title:"设置成功",content:e.createElement("div",{className:"NOponetits"},e.createElement("img",{src:"../../../img/icon_Login_success.png"}),e.createElement("h4",null,"设置成功"),e.createElement("p",null,"登录时请使用新密码")),text:"新密码已经帮你改好"}];return e.createElement("div",{className:"ForgetpwdBox"},e.createElement(d,{className:"headerForgetpwd"},e.createElement("span",null,e.createElement("a",null,e.createElement("img",{style:{verticalAlign:"middle",height:"34px"},src:"../../../img/logo.png"})))),e.createElement(l.default,{className:"boxForgetpwd"},e.createElement("div",{className:"boxForgetpwdtit"},"BRM系统账号找回密码"),e.createElement("div",{className:"FORSteps"},e.createElement(u.default,{onSubmit:t.ForgetSubmit,className:"forget-form"},e.createElement(c.default,{current:t.state.current,style:{marginTop:"20px"}},N.map(function(t){return e.createElement(y,{key:t.title,title:t.title,description:t.text})})),e.createElement("div",{className:"steps-content"},N[t.state.current].content,N[t.state.current].NOphone),e.createElement("div",{className:"steps-action"},t.state.current<N.length-1&&e.createElement(o.default,{type:"primary",style:E,htmlType:"submit"},"提交"),t.state.current===N.length-1&&e.createElement(o.default,{type:"primary",style:{marginLeft:-36},onClick:function(){return t.GOdl()}},"去登录"),t.state.current<=0&&e.createElement(o.default,{className:"ant-Go",style:{marginLeft:8,background:"#fff",border:"1px solid #ccc",padding:"0px 5px"},onClick:function(){return t.DL()}},"返回登录"),t.state.current>0&&e.createElement(o.default,{className:"ant-btnxx",style:E,onClick:function(){return t.prev()}},"上一步"),e.createElement(o.default,{style:v,className:"BACK",onClick:function(){return t.BACK()}},"返回"),e.createElement("div",{className:"forgetmm",style:b},e.createElement("div",{style:w},"强度：",t.state.AqPercentx),e.createElement(r.default,null,e.createElement(a.default,{percent:t.state.AqPercentSum})),e.createElement("div",null,"请至少输入 6 个字符。请不要使用容易被猜到的密码。")))))),e.createElement(f.default,{className:"Copyright"}))});t.default=g}).call(this,n(1))},713:function(e,t){},717:function(e,t){},719:function(e,t){},721:function(e,t){},752:function(e,t){},863:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(23)),a=u(n(19)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(22),n(20);var s=u(n(589)),c=u(n(13)),l=u(n(165));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={autn:"",lock:!1},t.ForgetSubmit=function(){t.props.form.validateFields(function(e,n){e?t.setState({forgetxs:!0}):0==t.state.current&&void 0!=n.userName?c.default.post("/hcm/login/getUserByNameOrMobile",{name:t.Trim(n.userName),usertype:t.state.usertypeID}).then(function(e){if(console.log(e),1e4==e.data.status)if(console.log(e.data.data),null!=e.data.data&&void 0!=e.data.data.mobile&&""!=e.data.data.mobile){var n=t.state.current+1;t.setState({yzm:"获取验证码",shows:!0,forgetxs:!1,Pone:e.data.data.mobile,current:n})}else{var r=t.state.current+1;t.setState({yzm:"获取验证码",shows:!0,forgetxs:!1,Pone:"",NOphone:!0,NOphones:!0,current:r})}else t.setState({forgetxs:!0}),console.log(1)}):1==t.state.current?(console.log(n.yzm,"验证码"),void 0!=n.yzm?c.default.post("/hcm/login/validateSMS",{mobile:t.state.Pone,usertype:t.state.usertypeID,code:n.yzm}).then(function(e){if(console.log(e),1==e.data){var n=t.state.current+1;t.setState({AqPercent:!0,forgetxs:!1,current:n})}else t.setState({forgetxs:!0})}):t.setState({forgetxs:!0})):2==t.state.current?""!=n.pws&&void 0!=n.pws&&""!=n.spws&&void 0!=n.spws?t.Trim(n.pws)==t.Trim(n.spws)?t.Trim(n.pws).length>=6?(console.log(n.pws.length),t.Trim(n.pws).length<=16?c.default.post("/hcm/login/updatePasswordBySMS",{username:t.state.Pone,password:l.default.Encrypt(n.pws),usertype:t.state.usertypeID}).then(function(e){if(console.log(e),1e4==e.data.status){var n=t.state.current+1;t.setState({current:n}),t.setState({NODl:!0,NOphones:!0})}}):a.default.error("密码最多16位")):a.default.error("密码不能少于6位"):(""==t.Trim(n.pws)||t.Trim(n.spws),t.setState({forgetxs:!0})):a.default.error("密码不能为空！"):t.setState({forgetxs:!0})})},t.BACK=function(){var e=t.state.current-1;t.setState({current:e,NOphone:!1,NOphones:!1})},t.Trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},t.onBlur=function(){t.props.form.validateFields(function(e,n){console.log(n);var r=new RegExp("^[0-9]*$"),a=new RegExp("^[~!@#$%^&*()_+<>?:{},./;'[]]*$");void 0!=n.pws&&n.pws.length>=6&&(r.test(n.pws)||new RegExp("^w*$").test(n.pws)||a.test(n.pws)?t.setState({AqPercentSum:30,forgetmmClock:"red",AqPercentx:"弱"}):r.test(n.pws)&&a.test(n.pws)?t.setState({AqPercentSum:60,forgetmmClock:"yellow",AqPercentx:"中"}):t.setState({AqPercentSum:100,forgetmmClock:"green",AqPercentx:"强"}))})},t.onChangeAutn=function(e){t.setState({autn:e})},t.getAuthCode=function(){var e=t.state,n=e.value,r=e.lock,a=e.yzm,o=e.yzmpwd;if(console.log(n),1==!r&&""==o&&""!=t.state.Pone&&"获取验证码"==a)if(console.log(t.state.current),console.log(t.state.Pone),59==t.state.seconds){if("未绑定手机号"!=t.state.Pone){var s=setInterval(function(){t.setState({yzm:t.state.seconds--+"s后重新发送",shows:!1,forgetxs:!1},function(){1==t.state.seconds&&(clearInterval(s),t.setState({yzm:"获取验证码",shows:!0,seconds:59}))})},1e3);c.default.post("/hcm/login/sendSMS",{mobile:t.state.Pone,codeType:"HCM_PWD",usertype:t.state.usertypeID}).then(function(e){console.log(e)})}}else if("未绑定手机号"!=t.state.Pone){var l=setInterval(function(){t.setState({yzm:t.state.seconds--+"s后重新发送",shows:!1,forgetxs:!1},function(){1==t.state.seconds&&(clearInterval(l),t.setState({yzm:"获取验证码",shows:!0,seconds:59}))})},1e3);c.default.post("/hcm/login/sendSMS",{mobile:t.state.Pone,codeType:"HCM_PWD",usertype:t.state.usertypeID}).then(function(e){console.log(e)})}},t.prev=function(){if(0==t.state.current){var e=t.state.current;t.setState({current:e})}else{t.setState({yzm:"获取验证码",shows:!0,forgetxs:!1,AqPercent:!1});var n=t.state.current-1;t.setState({current:n})}},t.DL=function(){window.location="/user.html#/login"+t.state.usertypeID},t.GOdl=function(){window.location="/user.html#/login"+t.state.usertypeID},t.state={current:0,yzm:"获取验证码",yzmpwd:"",seconds:59,shows:!0,forgetxs:!1,NOphone:!1,NOphones:!1,NODl:!1,AqPercent:!1,AqPercentx:"弱",AqPercentSum:0,forgetmmClock:"red",Pone:"",usertypeID:""},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),o(n,[{key:"componentDidMount",value:function(){if("u"==this.props.match.params.type)this.setState({usertypeID:this.props.match.params.type});else{if("c"!=this.props.match.params.type)return;this.setState({usertypeID:this.props.match.params.type})}}},{key:"render",value:function(){return e.createElement(s.default,{that:this})}}]),n}();t.default=r.default.create()(i)}).call(this,n(1))}}]);