(window.webpackJsonp=window.webpackJsonp||[]).push([[117,118],{1075:function(e,t){},1076:function(e,t){},1085:function(e,t){},1086:function(e,t){},28:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(t){function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.Component),n(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return e.createElement("div",{className:this.props.clazzName?this.props.clazzName:"Copyright"},"Copyright © 杭州久点网络技术有限公司")}}]),a}();t.default=a}).call(this,n(1))},29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(48));n(47);var r=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}n(1075);var l=function(t){return e.createElement("div",{className:"layout-wrapper "+(t.className||"")},e.createElement("div",{className:"header-wrapper"},e.createElement(a.default,{className:"breadcrumb"},t.breadcrumbList.map(function(n,r){return""===t.linkList[r]?e.createElement(a.default.Item,{key:n},n):e.createElement(a.default.Item,{href:"javascript:;",key:n},e.createElement("span",{onClick:function(){t.history.go(-t.linkList[r])}},n))}))),e.createElement("div",{className:"layout-content"},t.children),e.createElement("div",{className:"copyright"},e.createElement(r.default,null)))};l.defaultProps={title:"标题",breadcrumbList:[],linkList:[]},t.default=l}).call(this,n(1))},553:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(91)),r=p(n(14)),c=p(n(40)),l=p(n(35)),i=p(n(11)),o=p(n(48));n(90),n(18),n(49),n(50),n(26),n(47);var u=p(n(15)),s=p(n(29));p(n(28));function p(e){return e&&e.__esModule?e:{default:e}}o.default.Item;var d=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],f=1,m=2,h=(0,u.default)(function(t){var n=t.state,o=n.selectedIndex,u=n.moreButton,p=n.togglePriceIndex,h=n.activityList,y=n.currentShopBtn,g=n.shopBtnList,v=n.activityInfoList,E=n.pagination,_=E.count,b=void 0===_?0:_,S=E.pageNum,w=void 0===S?1:S,N=E.pageSize,k=void 0===N?10:N,M=g.length?g.reduce(function(e,t){return e+t.act_count},0):0;return e.createElement(s.default,{breadcrumbList:["活动信息","品牌活动公示"],linkList:["",""]},e.createElement("div",{className:"brand-activity-publicity"},e.createElement("section",{className:"content"},e.createElement("div",{className:"activity-date"},e.createElement("section",{className:"date-card"},h.map(function(n,a){var r=new Date(n.my_date),c=d[r.getDay()],l=r.getDate()+"",i=r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+l.padStart(2,"0");return e.createElement("div",{className:"card "+(o===a?"activite":""),onClick:function(){return t.switchActivity(i,a,0===a?f:m)},key:n.my_date},e.createElement("div",null,e.createElement("span",null,c,"  ",0===o&&0===a?e.createElement("p",{className:"today"},"今日"):null),e.createElement("span",null,l.padStart(2,"0"))),e.createElement("div",null,e.createElement("p",null,(0===a?"进行中":"已审核")+"活动（"+n.all_count+"）")))})),e.createElement("section",{className:"date-info"},e.createElement("div",{className:"activity-shops"},e.createElement(c.default,{type:"flex",justify:"space-between",className:"row"},e.createElement(l.default,{span:4,className:"title"},"活动店铺（",g.length||0,"）"),e.createElement(l.default,{span:2,className:"more",onClick:t.moreButton},e.createElement("span",null,u?"收起":"展开","更多 ",e.createElement(i.default,{type:u?"up":"down"})))),u?e.createElement(c.default,{className:"row"},e.createElement(r.default,{className:"btn-item",type:"all"===y?"primary":"",onClick:function(){t.switchShopBtn("all",v)}},"全部（",M,"）"),g.length?g.map(function(n,a){return e.createElement(r.default,{key:n.shop_id,type:y===n.shop_id?"primary":"",onClick:function(){t.switchShopBtn(n.shop_id,v)},className:"btn-item"},n.shop_name+"（"+n.act_count+"）")}):null):null))),v.length?v.map(function(n,r){return e.createElement("div",{className:"activity-card",key:n.id},e.createElement(c.default,{className:"header-title"},e.createElement(l.default,{span:12},e.createElement("p",{className:"overflow-hidden-only"},e.createElement("span",null,"店铺名称："),e.createElement("span",null,n.shop_name))),e.createElement(l.default,{span:12},e.createElement("p",null,e.createElement("span",null,"活动时间："),e.createElement("span",null,t.formatTime(n.start_time,!0),"~",t.formatTime(n.end_time,!0))))),e.createElement(a.default,{title:function(n){return e.createElement("div",{className:"card-title"},e.createElement("p",{className:"overflow-hidden-only"},e.createElement("span",null,"产品信息："),e.createElement("span",null,n.productName)),e.createElement("p",{className:"overflow-hidden-only pro-link"},e.createElement("span",null,"商品链接："),e.createElement("span",null,e.createElement("a",{href:n.productUrl,target:"_blank"},n.productUrl))),e.createElement("p",{onClick:function(){return t.togglePrice(n.index)}},p===n.index?"隐藏":"展开","参考价格",e.createElement(i.default,{type:p===n.index?"up":"down"})))}({productName:n.product_name,productUrl:n.product_url,index:r})},p===r?e.createElement(c.default,{className:"card-content"},Object.entries(n.price_map).length?Object.entries(n.price_map).map(function(t,n){return e.createElement(l.default,{span:8,key:n},t[0],"：",t[1])}):null):null,e.createElement(c.default,null,e.createElement(l.default,{span:8},"活动标价：¥",n.apply_price),e.createElement(l.default,{span:8},"活动类型：",n.campaign_type),e.createElement(l.default,{span:8},"赠品情况：",n.gift_situation),e.createElement(l.default,{span:8},"实际成交价：¥",n.actual_price),e.createElement(l.default,{span:8},"玩法说明：",n.play_content))))}):null,w*k<b?e.createElement("div",{className:"loadMore"},e.createElement(r.default,{onClick:t.handleLoadMore},"加载更多···")):null)))});t.default=h}).call(this,n(1))},823:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(128),i=s(n(553)),o=s(n(13)),u=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var p=(0,l.connect)(function(e){return{currentBrand:e.dealer.currentBrand}})(a=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.getShopBtnList=function(e){(0,o.default)({method:"post",url:"/hcm/campgign/PublicShops",data:{campaign_node:"已审核",type:e.type,ser_day:e.date}}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({shopBtnList:a})}).catch()},t.getActivityList=function(e){var n={campaign_node:"已审核",type:e.type,ser_day:e.date,pageNum:e.pageNum,pageSize:e.pageSize};void 0!==e.shop_id&&"all"!==e.shop_id&&(n.shop_id="'"+e.shop_id+"'"),(0,o.default)({method:"post",url:"/hcm/campgign/ScheduleBMC",data:n}).then(function(e){var n=e.data,a=n.data,r=n.status;n.message;"10000"===r&&t.setState({activityInfoList:a.list,pagination:Object.assign({},t.state.pagination,{count:a.count})})}).catch()},t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e),a=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0");return t&&(a+=" "+String(n.getHours()).padStart(2,"0")+":"+String(n.getMinutes()).padStart(2,"0")),a},t.getBrandSevenActivity=function(){(0,o.default)({method:"post",url:"/hcm/campgign/ScheduleBMCSeven"}).then(function(e){t.setState({activityList:e.data.data})}).catch(function(e){console.log("-----brandseven",e)})},t.togglePrice=function(e){t.setState({togglePriceIndex:t.state.togglePriceIndex===e?-1:e})},t.moreButton=function(){t.setState({moreButton:!t.state.moreButton})},t.switchShopBtn=function(e,n){t.setState({currentShopBtn:e});var a=t.state,c=a.currentDate,l=a.pagination;t.getActivityList(r({type:(0,u.default)().format("YYYY-MM-DD")===c?1:2,date:c,shop_id:e},l))},t.switchActivity=function(e,n,a){var c=t.state;c.sevenActivity,c.sevenProductInfo;t.setState({selectedIndex:n,currentDate:e,currentShopBtn:"all",togglePriceIndex:-1}),t.getShopBtnList({type:a,date:e}),t.getActivityList(r({type:a,date:e},t.state.pagination))},t.handleLoadMore=function(){t.setState({pagination:Object.assign({},t.state.pagination,{pageNum:t.state.pagination.pageNum+1})},function(){var e=t.state,n=e.currentDate,a=e.currentShopBtn,c=e.pagination,l=r({type:(0,u.default)().format("YYYY-MM-DD")===n?1:2,date:n},c);"all"!==a&&(l.shop_id=a),t.getActivityList(l)})},t.state={selectedIndex:0,moreButton:!1,togglePriceIndex:-1,activityList:[],currentDate:(0,u.default)().format("YYYY-MM-DD"),currentShopBtn:"all",shopBtnList:[],pagination:{pageNum:1,pageSize:10},activityInfoList:[]},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),c(n,[{key:"componentWillMount",value:function(){this.getBrandSevenActivity(),this.getShopBtnList({type:1,date:(0,u.default)().format("YYYY-MM-DD")}),this.getActivityList(r({type:1,date:(0,u.default)().format("YYYY-MM-DD")},this.state.pagination))}},{key:"render",value:function(){return e.createElement(i.default,{that:this})}}]),n}())||a;t.default=p}).call(this,n(1))}}]);